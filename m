Return-Path: <git-owner@vger.kernel.org>
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on dcvr.yhbt.net
X-Spam-Level: 
X-Spam-ASN: AS31976 209.132.180.0/23
X-Spam-Status: No, score=-3.6 required=3.0 tests=AWL,BAYES_00,
	FREEMAIL_FORGED_FROMDOMAIN,FREEMAIL_FROM,HEADER_FROM_DIFFERENT_DOMAINS,
	MAILING_LIST_MULTI,RCVD_IN_DNSWL_HI shortcircuit=no autolearn=ham
	autolearn_force=no version=3.4.2
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by dcvr.yhbt.net (Postfix) with ESMTP id 8542720A1E
	for <e@80x24.org>; Mon, 10 Dec 2018 08:46:38 +0000 (UTC)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726676AbeLJIqh (ORCPT <rfc822;e@80x24.org>);
        Mon, 10 Dec 2018 03:46:37 -0500
Received: from mout.gmx.net ([212.227.17.21]:56935 "EHLO mout.gmx.net"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1726029AbeLJIqh (ORCPT <rfc822;git@vger.kernel.org>);
        Mon, 10 Dec 2018 03:46:37 -0500
Received: from [192.168.0.129] ([37.201.193.149]) by mail.gmx.com (mrgmx103
 [212.227.17.168]) with ESMTPSA (Nemesis) id 0MF5C3-1ggzNQ0Hf9-00GHaI; Mon, 10
 Dec 2018 09:46:35 +0100
Date:   Mon, 10 Dec 2018 09:46:38 +0100 (STD)
From:   Johannes Schindelin <Johannes.Schindelin@gmx.de>
X-X-Sender: virtualbox@gitforwindows.org
To:     Steven Penny <svnpenn@gmail.com>
cc:     tboegi@web.de, git@vger.kernel.org
Subject: Re: [PATCH v2 1/3] git clone <url> C:\cygwin\home\USER\repo' is
 working (again)
In-Reply-To: <CAAXzdLVTjCVDmBik-j9B_Z_2wgSj=_6baqmjmGEGBFOsjkyOsw@mail.gmail.com>
Message-ID: <nycvar.QRO.7.76.6.1812100938140.43@tvgsbejvaqbjf.bet>
References: <5bf18396.1c69fb81.20780.2b1d@mx.google.com> <20181207170456.8994-1-tboegi@web.de> <CAAXzdLVTjCVDmBik-j9B_Z_2wgSj=_6baqmjmGEGBFOsjkyOsw@mail.gmail.com>
User-Agent: Alpine 2.21.1 (DEB 209 2017-03-23)
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
X-Provags-ID: V03:K1:NU42vw1K1mo8jOy7vELcPrRXiOl73qVeMGZq7ti5YVdgcleFPFw
 AjPghmXqOCFAx5/2WX8/YpyTR39xfFoc3ClHc/DwRfOYLRcJCBD2w6QBdxCzybwwJhtaMgi
 rhvx05D3q2+bKMOXlhGxiPnk8o0Ib6TTocCC9LAFfkQwNe2rKuwUEBQantyMgFlNoZpMX+D
 2gD+5hUkfjl7bvkOna3BA==
X-UI-Out-Filterresults: notjunk:1;V03:K0:aZHXteoTx+g=:9mnUPgJtw7GWXL5fzVm1X7
 hVQQzRWMdMNTuRHSWzXofYQiVS17z7KyNVZbuXrwBCdC6GouXZ4Sg581+lADsdxi/+WenyRlX
 C8OcPPngmB/0hMDQ64rSUajIMee1tPw4M5GQrAruQl2MigYAJGDmFL6Of9uLEJZSkH1SzL1+C
 UDt7h4ltoz5PaWT5h1PPuVQ1DHDqC2FQLXyJcK7LpObx06vTcq6CFWyQW/lpYDrivB90j7EhN
 HDKCT9aTqFWEqyY2F0E0iNURgvmqplZYiNv0X8uOsDOF4BuaRxzcCGW9Ke8CC/BY4DZ+UUjV5
 ztowWfSzMnNeFYNRq5kU/TtsFTdeALzECtlEzOl6fXQTRj0LWEJsVuROx9gBOUO+/R0SP6XoV
 Q6N9K3NxoOXkWWM6EgTIdUsdE13LWMjRC2Wtj7uY1iG34+xwcnOpIZS4kps4PLGl6snRTqzI2
 4FH9WenxKMmgzFO9Q3vOZvAQCh00Q4bJ23VvODTevwShp4ccX1eLFxp9TLK9jrJYe8s171rgh
 iAEtM59sFaHTmrcsfi/mX5GvTaiVXAPvsdmF1tVHvcNUAjeQeytV5Txm5xBV2J6MDZjLOUMt1
 ygp6ranTCYRphWjjJhdYFMf5EYrD4ghsd3oPYjtnb8W3ibQI/LM8cLRgeZlTJ+1A1a1WkFNvp
 1MgVeySpwRuqmD0/UXo2OaaAqY7GgGPGwW8ZfFCyOJ/bR67ZWTk8Jbiur6ZrPjI7ckqB1iMdI
 8ObkU3ykNbn/G4wXFylhFUxfLSYmRK8Rvei0CS129Z9TCo1ERscA2bwTmv2hPYaWrwsns4vAJ
 JJxa9DzjW5ZqsP4/r6vBrre6nmnotsD1d/CMpJF4EG2ALghX/DoP8MyH9VrmmeF5TTfNs6xpa
 Su2TQ+qrTTNH8AW5OnKDVVaqVpTHTC2aijVcqTwaPmRNiwO1ECYgR5mGOfvmVI34ZB7TlHTAn
 H8qzit3pBmg==
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org

Hi Steven,

please stop dropping me from the Cc: list. Thanks.

On Fri, 7 Dec 2018, Steven Penny wrote:

> On Fri, Dec 7, 2018 at 11:04 AM wrote:
>
> > The solution is to implement has_dos_drive_prefix(),
> > skip_dos_drive_prefix() is_dir_sep(), offset_1st_component() and
> > convert_slashes() for cygwin in the same way as it is done in 'Git for
> > Windows' in compat/mingw.[ch]
> >
> > Instead of duplicating the code, it is extracted into
> > compat/mingw-cygwin.[ch] Some need for refactoring and cleanup came up
> > in the review, they are adressed in a seperate commit.
> 
> i have applied the 3 patches against current master, and my original
> test passes, so looks good to me.
> 
> however like Johannes i take issue with the naming. as he said "mingw-cygwin"
> really isnt appropriate. ideally it would be "windows.h", but as that is
> conspicuously in use, something like these:
> 
> - pc-windows
> - pc-win
> - win

I find all of those horrible.

> i disagree with him on using "win32" - that doesnt really make sense,

... except if you take into account that this has been our convention for,
what, almost 9 years (since 44626dc7d5 (MSVC: Windows-native
implementation for subset of Pthreads API, 2010-01-15), to be precise)? In
that case, it makes a ton of sense, and one might be tempted to ask who
the person wanting to change that thinks they are...

> as obviously you can compile 64-bit Git for Windows. if you wanted to go
> that route you would want to use something like:
> 
> - windows-api
> - win-api
> - winapi
> 
> further - i disagree with the "DOS" moniker being used at all. DOS is a
> defunkt operating system that i dont think Git has *ever* supported, so
> it doesnt make sense to be referring to it this way. again, a more
> approriate name would be something like "win_drive_prefix".

You may disagree all you want, but given that Torsten has been a lot more
active on this code than you have been so far, I'll go with Torsten's
taste. Which incidentally happens to match my tastes, so that's an added
bonus.

Ciao,
Johannes
