From: Junio C Hamano <gitster@pobox.com>
Subject: Re: Generating patches/Cherry Picking for a large number of commits
Date: Fri, 28 Aug 2009 15:31:49 -0700
Message-ID: <7vmy5jh8oa.fsf@alter.siamese.dyndns.org>
References: <ae09c2a40908281226r744141bm3a5bf4161ddab3e7@mail.gmail.com>
 <20090828194556.GA13302@coredump.intra.peff.net>
 <ae09c2a40908281250r42275a3o96825b89e725bace@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Cc: Jeff King <peff@peff.net>, git <git@vger.kernel.org>
To: Alydis <alydis@august8.net>
X-From: git-owner@vger.kernel.org Sat Aug 29 00:32:08 2009
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@lo.gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1Mh9zL-0007pF-Kp
	for gcvg-git-2@lo.gmane.org; Sat, 29 Aug 2009 00:32:08 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1751151AbZH1Wb6 (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Fri, 28 Aug 2009 18:31:58 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1751127AbZH1Wb5
	(ORCPT <rfc822;git-outgoing>); Fri, 28 Aug 2009 18:31:57 -0400
Received: from a-pb-sasl-quonix.pobox.com ([208.72.237.25]:50610 "EHLO
	sasl.smtp.pobox.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1751060AbZH1Wb5 (ORCPT <rfc822;git@vger.kernel.org>);
	Fri, 28 Aug 2009 18:31:57 -0400
Received: from sasl.smtp.pobox.com (unknown [127.0.0.1])
	by a-pb-sasl-quonix.pobox.com (Postfix) with ESMTP id D28E51CDB2;
	Fri, 28 Aug 2009 18:31:58 -0400 (EDT)
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=pobox.com; h=to:cc:subject
	:references:from:date:in-reply-to:message-id:mime-version
	:content-type; s=sasl; bh=YGqOwkQk+EpDLVwzWfvcThINdQs=; b=UiAXcO
	iCa7VkK512dCTrm+4AUMEg2IwG6WHxJJ19x/Elw3fXPqon0Hk55B9+GFP2w9krXc
	LAtyPdGj9z09ouPnzgvlBMFk5QYjmVYjtD2i4uCESns43ux0IOBdNBT7V9SOGsEv
	BrKfKATqPlllHTUAYDtTkxHuQNH1ASq3uv5mI=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=pobox.com; h=to:cc:subject
	:references:from:date:in-reply-to:message-id:mime-version
	:content-type; q=dns; s=sasl; b=VQbPhqTbt6QagzOfZ9J4VFQ9AnIOaU35
	PHHz02W9qUFZLFwdHiPCVV3t5io41dxbF6Fd+zxIpqelsytzbeWQwZe3nHM8UOQ4
	vdmiQGX3cWoN3jFeHQzRbi3rcicZSgfC9MhWfVgFX31e/OYDwgjqbrekORgfNBfY
	VCuV3li/7Wc=
Received: from a-pb-sasl-quonix. (unknown [127.0.0.1])
	by a-pb-sasl-quonix.pobox.com (Postfix) with ESMTP id 9FCB81CDAC;
	Fri, 28 Aug 2009 18:31:55 -0400 (EDT)
Received: from pobox.com (unknown [68.225.240.211]) (using TLSv1 with cipher
 DHE-RSA-AES128-SHA (128/128 bits)) (No client certificate requested) by
 a-pb-sasl-quonix.pobox.com (Postfix) with ESMTPSA id E11E01CDA7; Fri, 28 Aug
 2009 18:31:51 -0400 (EDT)
In-Reply-To: <ae09c2a40908281250r42275a3o96825b89e725bace@mail.gmail.com>
 (alydis@august8.net's message of "Fri\, 28 Aug 2009 14\:50\:53 -0500")
User-Agent: Gnus/5.11 (Gnus v5.11) Emacs/22.2 (gnu/linux)
X-Pobox-Relay-ID: 9752C582-9422-11DE-A2A2-CA0F1FFB4A78-77302942!a-pb-sasl-quonix.pobox.com
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/127358>

Alydis <alydis@august8.net> writes:

> Ack!  Embarrassing RTFM.
>
> While I have your attention, however, I noticed that git am <path>
> will apply the list patches generated by format-patch.  The
> documentation said something about mbox/maildir directories, which I
> actually am not that familiar with.  Is it safe to say that git am
> <path> will read the path and apply patches in numerical order?  Does
> it allow skipping?

If you say "git am <directory>/*", like you have in your original message
shown *below* (sheesh, why am I responding to somebody who top-posts?),
you let your shell perform a numerical sort, so you would be Ok.

>>> git format-patch -o patches v2.6.21..v2.6.30 arch/powerpc/boot
>>> git am -3 patches/*

I do not think the above format-patch, even with --full-diff, is
necessarily a good idea nor would work in general.

Often, when a series is concocted, you would see this pattern:

 * Early parts of the patch series to lay groundwork by introducing non
   platform specific infrastructure; and then

 * Later parts of the series utilizes the infrastructure to implement the
   feature for particular platforms.

Obviously you are interested only for powerpc parts in the latter category
and would want to omit anything irrelevant to powerpc.  But you do want to
include all of the former class, even if they do not touch anything inside
the powerpc area.
