From: Johannes Schindelin <Johannes.Schindelin@gmx.de>
Subject: Re: core.autocrlf considered half-assed
Date: Tue, 9 Mar 2010 10:28:13 +0100 (CET)
Message-ID: <alpine.DEB.1.00.1003091026060.7596@pacific.mpi-cbg.de>
References: <alpine.DEB.1.00.1003060018170.20986@pacific.mpi-cbg.de> <20100307092701.GC31105@dpotapov.dyndns.org> <alpine.LFD.2.00.1003071538350.30214@localhost.localdomain> <20100308185719.GQ2480@ece.pdx.edu> <alpine.DEB.1.00.1003082011440.14277@intel-tinevez-2-302>
 <7v6356r1w9.fsf@alter.siamese.dyndns.org>
Mime-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Cc: Tait <git.git@t41t.com>, git@vger.kernel.org,
	Dmitry Potapov <dpotapov@gmail.com>,
	Linus Torvalds <torvalds@linux-foundation.org>
To: Junio C Hamano <gitster@pobox.com>
X-From: git-owner@vger.kernel.org Tue Mar 09 13:27:36 2010
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@lo.gmane.org
Received: from vger.kernel.org ([209.132.180.67])
	by lo.gmane.org with esmtp (Exim 4.69)
	(envelope-from <git-owner@vger.kernel.org>)
	id 1NoyX5-0001Do-2f
	for gcvg-git-2@lo.gmane.org; Tue, 09 Mar 2010 13:27:31 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1753799Ab0CIJVA (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Tue, 9 Mar 2010 04:21:00 -0500
Received: from mail.gmx.net ([213.165.64.20]:54338 "HELO mail.gmx.net"
	rhost-flags-OK-OK-OK-OK) by vger.kernel.org with SMTP
	id S1753642Ab0CIJU6 (ORCPT <rfc822;git@vger.kernel.org>);
	Tue, 9 Mar 2010 04:20:58 -0500
Received: (qmail invoked by alias); 09 Mar 2010 09:20:56 -0000
Received: from pacific.mpi-cbg.de (EHLO pacific.mpi-cbg.de) [141.5.10.38]
  by mail.gmx.net (mp066) with SMTP; 09 Mar 2010 10:20:56 +0100
X-Authenticated: #1490710
X-Provags-ID: V01U2FsdGVkX18lDdNHN7ElkaVd6mKZ+K/YGjjCziH32mjp/1roQZ
	o1VoGVOedcCwcG
X-X-Sender: schindelin@pacific.mpi-cbg.de
In-Reply-To: <7v6356r1w9.fsf@alter.siamese.dyndns.org>
User-Agent: Alpine 1.00 (DEB 882 2007-12-20)
X-Y-GMX-Trusted: 0
X-FuHaFi: 0.63
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/141797>

Hi,

On Mon, 8 Mar 2010, Junio C Hamano wrote:

> Johannes Schindelin <Johannes.Schindelin@gmx.de> writes:
> 
> > And I demonstrated with the "html" example that even long-time 
> > Gitsters sometimes commit DOS line endings as-are, unconverted.
> 
> FWIW, not using CRLF conversion in the auto-generated 'html' repository
> was a deliberate choice, as the contents there (the ones generated by
> AsciiDoc with '.html' suffix) were intended to be served directly from the
> web servers.  I presume AsciiDoc writes them with CRLF because html
> documents are supposed to be, and it would be wrong to apply core.autocrlf
> in the auto-generated repository.  And it is not correct to force
> core.autocrlf on the recipient side either.

And here you are wrong, because the branch contains _also_ .txt files that 
are _not_ CR/LF, but need to be CR/LF on Windows. Believe me, we did think 
about what we were doing in msysGit. More than once.

> Nevertheless, I agree with you that if a similar situation happened by 
> mistake and your project does want to enforce core.autocrlf, it would be 
> nicer if there is an easy-to-use one-time clean-up procedure.  It hasn't 
> been my itch, and I suspect it wasn't Linus's itch either.

The problem is that the whole thing was not your itch, but your 
implementation. You never used it, so you never caught the obvious flaws 
in the design.

Sorry to be so direct, but it seems that my more subtle attempts to 
explain the situation failed.

Ciao,
Dscho
