From: "Ferry Huberts (Pelagic)" <ferry.huberts@pelagic.nl>
Subject: Re: jgit and ignore
Date: Sun, 01 Mar 2009 14:47:28 +0100
Message-ID: <49AA91F0.7050008@pelagic.nl>
References: <9e4733910902280831j70448ce9h7239f14e13b92b76@mail.gmail.com>	 <20090228172622.GC26689@spearce.org> <49AA5F64.6070207@pelagic.nl> <9e4733910903010454u662eb5afob45f608321660500@mail.gmail.com> <49AA884D.1050806@pelagic.nl> <49AA8ECD.4090302@gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
Cc: Jon Smirl <jonsmirl@gmail.com>,
	"Shawn O. Pearce" <spearce@spearce.org>,
	Git Mailing List <git@vger.kernel.org>
To: =?ISO-8859-1?Q?Tor_Arne_Vestb=F8?= <torarnv@gmail.com>
X-From: git-owner@vger.kernel.org Sun Mar 01 14:50:10 2009
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1Ldm3T-0003Zk-Je
	for gcvg-git-2@gmane.org; Sun, 01 Mar 2009 14:50:08 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1754126AbZCANrc convert rfc822-to-quoted-printable (ORCPT
	<rfc822;gcvg-git-2@m.gmane.org>); Sun, 1 Mar 2009 08:47:32 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1753883AbZCANrc
	(ORCPT <rfc822;git-outgoing>); Sun, 1 Mar 2009 08:47:32 -0500
Received: from hupie.xs4all.nl ([82.95.241.251]:54748 "EHLO
	Lighthouse.internal.Hupie.com" rhost-flags-OK-OK-OK-FAIL)
	by vger.kernel.org with ESMTP id S1752963AbZCANrb convert rfc822-to-8bit
	(ORCPT <rfc822;git@vger.kernel.org>); Sun, 1 Mar 2009 08:47:31 -0500
Received: from [192.168.0.101] (unknown [192.168.0.101])
	by Lighthouse.internal.Hupie.com (Postfix) with ESMTP id E06E058BDBA;
	Sun,  1 Mar 2009 14:47:28 +0100 (CET)
User-Agent: Thunderbird 2.0.0.19 (X11/20090105)
In-Reply-To: <49AA8ECD.4090302@gmail.com>
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/111843>

Tor Arne Vestb=F8 wrote:
> Ferry Huberts (Pelagic) wrote:
>> BTW. the plugin will not look at the eclipse filter for ignore files
>> once I've finished the implementation. that's the only way to make s=
ure
>> that we ignore resources in exactly the same way as git does: git on=
ly
>> ignores on the basis of .gitignore files, command line options (we d=
o
>> not have those for the plugin), and the info/exclude file in the rep=
ository.
>=20
> You're missing one: the file specified by the configuration variable
> core.excludesfile, which can be though of as a global ignore filter.
>=20
> The manual says:
>=20
> "Patterns which a user wants git to ignore in all situations (e.g.,
> backup or temporary files generated by the user's editor of choice)
> generally go into a file specified by core.excludesfile in the user's
> ~/.gitconfig."
>=20
> This is _exactly_ what Eclipse's Team->Ignored Resources is for.
>=20
> I see two groups of users: a) those with a global ignore specified in
> core.excludesfile b) and those without (they may not even have cgit
> installed, if EGit is bundled with Eclipse in the future).
>=20
> In my opinion, EGit should default to using Eclipse's built in ignore=
s,
> but then detect the presence of a global core.excludesfile, in which
> case it would notify the user ("I see you have a core.excludesfile") =
and
> let the user switch to using that one instead.
>=20
> In other words, whether or not to use core.excludesfile or Eclipse's
> global team ignores should be optional, and we should provide heurist=
ics
> for deciding when to switch.
>=20
> I think that would cover both groups of users without causing confusi=
on.
>=20
> Tor Arne

Ok, missed that one.
I'll have to think a bit on how to incorporate that one but I think it'=
s
doable in a relatively easy way.

I do not agree with your propasal however.
We then would have different behaviour between how 'git' behaves within
Eclipse (by means of the plugin) and how 'git' behaves within the
command line. That alone can cause much more confusion.

Your proposal can also be implemented differently by (for example)
building a UI that allows the user to edit the global ignore file.
The Eclipse global team ignores simply are too broad: think of the
situation where I also have non-git project (like svn) in my workspace.
