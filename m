Return-Path: <git-owner@kernel.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	aws-us-west-2-korg-lkml-1.web.codeaurora.org
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
	by smtp.lore.kernel.org (Postfix) with ESMTP id ABDF6C433EF
	for <git@archiver.kernel.org>; Tue, 12 Oct 2021 08:05:18 +0000 (UTC)
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.kernel.org (Postfix) with ESMTP id 9278260F21
	for <git@archiver.kernel.org>; Tue, 12 Oct 2021 08:05:18 +0000 (UTC)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S234845AbhJLIHS (ORCPT <rfc822;git@archiver.kernel.org>);
        Tue, 12 Oct 2021 04:07:18 -0400
Received: from outboundhk.mxmail.xiaomi.com ([207.226.244.123]:35766 "EHLO
        xiaomi.com" rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S234460AbhJLIHO (ORCPT <rfc822;git@vger.kernel.org>);
        Tue, 12 Oct 2021 04:07:14 -0400
Received: from BJ-MBX02.mioffice.cn (10.237.8.122) by HK-MBX02.mioffice.cn
 (10.56.8.122) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.2.858.15; Tue, 12 Oct
 2021 16:04:45 +0800
Received: from BJ-MBX01.mioffice.cn (10.237.8.121) by BJ-MBX02.mioffice.cn
 (10.237.8.122) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.2.858.15; Tue, 12 Oct
 2021 16:04:44 +0800
Received: from BJ-MBX01.mioffice.cn ([fe80::a533:b6ba:b457:de9e]) by
 BJ-MBX01.mioffice.cn ([fe80::a533:b6ba:b457:de9e%9]) with mapi id
 15.02.0858.015; Tue, 12 Oct 2021 16:04:44 +0800
From:   =?utf-8?B?56iL5rSL?= <chengyang@xiaomi.com>
To:     Jeff King <peff@peff.net>
CC:     "git@vger.kernel.org" <git@vger.kernel.org>
Subject: RE: [External Mail]Re: why git is so slow for a tiny git push?
Thread-Topic: [External Mail]Re: why git is so slow for a tiny git push?
Thread-Index: Ade84mmmstEBXQTRSsexpdzlhc8vnAAVTYYAAAAT7KAAUV7NAAAwVDmA
Date:   Tue, 12 Oct 2021 08:04:44 +0000
Message-ID: <ef2aa0d3ea8a4d98b910abdfd55191d0@xiaomi.com>
References: <c5a8595658d6416684c2bbd317494c49@xiaomi.com>
 <5a6f3e8f29f74c93bf3af5da636df973@xiaomi.com>
 <576b2f3e162e4f86992d8f4e680d0881@xiaomi.com>
 <YWRr9g32cMlIc37V@coredump.intra.peff.net>
In-Reply-To: <YWRr9g32cMlIc37V@coredump.intra.peff.net>
Accept-Language: zh-CN, en-US
Content-Language: zh-CN
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.237.8.11]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org

SSBoYXZlIGJpdG1hcCBpbmRlZWQgYmVjYXVzZSBteSBtYXN0ZXIgc2VydmVyIGFsc28gc2VydmVz
IGFzIGRvd25sb2FkIHNlcnZlci4NCkhvd2V2ZXIgSSdtIHVzaW5nIGdpdCAyLjE3LjAsIGFuZCBJ
IGRpZG4ndCBzZXQgcmVwYWNrLndyaXRlQml0bWFwcw0KDQpBbHNvIEkgdHJpZWQgIkdJVF9UUkFD
RTJfUEVSRiIgYW5kIHRoZSBpdCBpcyAiZW51bWVyYXRpbmcgb2JqZWN0cyIgY29zdCBtb3N0IG9m
IHRoZSB0aW1lLg0KQnV0IHdoeSBiaXRtYXBzIGNhbiBjYXVzZSBwdXNoIHRvIGJlIHNsb3c/IERv
IHlvdSBtZWFuIHRoYXQgaWYgd3JpdGVCaXRtYXBzIGlzIHRydWUsIGV2ZXJ5IHB1c2ggd2lsbCBy
ZWdlbmVyYXRlIGJpdG1hcCBmaWxlPyBJZiB0aGF0J3Mgd2hhdCB5b3UgbWVhbiwgd2hhdCBJIHNl
ZSBpcyB0aGUgb25seSBiaXRtYXAgZmlsZSBpbiBteSByZXBvIGRpZG4ndCBjaGFuZ2UgYWNyb3Nz
IHRpbWUgKHRoZSBtb2RpZnkgdGltZSBpcyBvbmUgbW9udGggYWdvLCBsb25nIGJlZm9yZSBJIHJ1
biB0aGUgZXhwZXJpbWVudCkNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLQ0KDQpJIGNhbWUgdXAgd2l0aCBhbiBpZGVhLCBzaW5jZSBJIGZvdW5kIGlm
IEkgZGVjcmVhc2UgdGhlIHJlZnMgbnVtYmVyLCBwdXNoIGdvZXMgbXVjaCBmYXN0ZXIgdGhhbiBi
ZWZvcmUuDQpTbyBJIHVzZSByZWNlaXZlLmhpZGVyZWZzIHRvIGhpZGUgbW9zdCBvZiByZWZzLiBB
bmQgSSBjb21tZW50ICJyZWplY3RfdXBkYXRlc190b19oaWRkZW4iIGluIHJlY2VpdmUtcGFjay5j
IChiZWNhdXNlIEkgbmVlZCB0byB1cGRhdGUgdGhvc2UgaGlkZSByZWZzLCBvciBhZGQgbmV3IHJl
ZnMpDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBKZWZmIEtpbmcgPHBlZmZA
cGVmZi5uZXQ+DQpTZW50OiBUdWVzZGF5LCBPY3RvYmVyIDEyLCAyMDIxIDEyOjUzIEFNDQpUbzog
56iL5rSLIDxjaGVuZ3lhbmdAeGlhb21pLmNvbT4NCkNjOiBnaXRAdmdlci5rZXJuZWwub3JnDQpT
dWJqZWN0OiBbRXh0ZXJuYWwgTWFpbF1SZTogd2h5IGdpdCBpcyBzbyBzbG93IGZvciBhIHRpbnkg
Z2l0IHB1c2g/DQoNCipUaGlzIG1lc3NhZ2Ugb3JpZ2luYXRlZCBmcm9tIG91dHNpZGUgb2YgWElB
T01JLiBQbGVhc2UgdHJlYXQgdGhpcyBlbWFpbCB3aXRoIGNhdXRpb24qDQoNCg0KT24gU2F0LCBP
Y3QgMDksIDIwMjEgYXQgMDY6MDU6NTZQTSArMDAwMCwg56iL5rSLIHdyb3RlOg0KDQo+IEkgaGF2
ZSBhIHJlYWxseSBiaWcgcmVwb3NpdG9yeSB3aGljaCBoYXMgOW0gb2JqZWN0cyBhbmQgbWF5YmUg
MzAwayByZWZzLg0KPiBJIG5vdGljZWQgdGhhdCBnaXQgcHVzaCBpcyByZWFsbHkgc2xvdyBmb3Ig
YSB0aW55IGNoYW5nZS4gQW4gZXhhbXBsZQ0KPiBzaG93cyBiZWxvdw0KPg0KPiAzIG9iamVjdHMg
d2hpY2ggaXMgb25seSA3IGtiIHRha2VzIDM2IHNlY29uZHMgdG8gcGFjay1vYmplY3RzIChpdCdz
DQo+IHRoZSB0aW1lIGFmdGVyIGkgZW5hYmxlIHBhY2sudXNlc3BhcnNlKSBIb3dldmVyIGlmIEkg
bWFudWFsbHkgY2FsbA0KPiDigJxwYWNrLW9iamVjdHPigJ0gd2l0aCB0aGUgZXhhY3RseSBzYW1l
IG9iamVjdHMgU0hBMS4gSXQgb25seSB0YWtlIGxlc3MgdGhhbiAwLjAwNSBzZWNvbmQgV2hhdCBp
cyByZWFsbHkgcGFzcyB0byDigJxwYWNrLW9iamVjdHPigJ0gd2hlbiBJIGNhbGwg4oCcZ2l0IHB1
c2jigJ0/DQoNCkRvIHlvdSBoYXZlIGFuIG9iamVjdHMvcGFjay9wYWNrLSouYml0bWFwIGZpbGUg
b24gdGhlIHNlbmRpbmcgc2lkZT8NCg0KVGhlIGJpdG1hcCBjb2RlIGlzIGVhZ2VyIHRvIHByb2R1
Y2UgYW4gZXhhY3Qgc2V0IGRpZmZlcmVuY2UgYmV0d2VlbiB3aGF0IGlzIGJlaW5nIHNlbnQgYW5k
IHdoYXQgdGhlIG90aGVyIHNpZGUgaGFzLiBJZiB5b3UgaGF2ZSBpbmNvbXBsZXRlIGJpdG1hcCBj
b3ZlcmFnZSAod2hpY2ggaXMgYWxtb3N0IGEgY2VydGFpbnR5IGlmIHlvdSBoYXZlIDMwMGsgcmVm
cyksIGl0IG1heSBkbyBhIGxvdCBvZiB0cmF2ZXJzYWwgZmlsbGluZyBpbiB0aGUgIndoYXQgdGhl
IG90aGVyIHNpZGUgaGFzIiBwYXJ0IG9mIHRoZSBiaXRtYXAsIGV2ZW4gdGhvdWdoIGl0IGRvZXMg
bm90IGVuZCB1cCBoZWxwaW5nIHRoZSBmaW5hbCByZXN1bHQgaW4gdGhpcyBjYXNlLg0KDQpCaXRt
YXBzIGFyZSBlbmFibGVkIGJ5IGRlZmF1bHQgb24gYmFyZSByZXBvcyBzaW5jZSBHaXQgdjIuMjIu
MC4gWW91IGNhbiBvdmVycmlkZSB0aGlzIHdpdGg6DQoNCiAgZ2l0IGNvbmZpZyByZXBhY2sud3Jp
dGVCaXRtYXBzIGZhbHNlDQogIGdpdCBnYw0KDQoob3IgaWYgeW91IGRvbid0IHdhbnQgdG8gZG8g
dGhlIGdjLCB5b3UgY2FuIHNhZmVseSByZW1vdmUgdGhlICcuYml0bWFwJw0KZmlsZSkuDQoNCkkg
bm90aWNlIHlvdSB1c2VkIEdJVF9UUkFDRV9QRVJGT1JNQU5DRSBiZWxvdy4gVHJ5IEdJVF9UUkFD
RTJfUEVSRiBpbnN0ZWFkLCB3aGljaCBnb2VzIGludG8gZGV0YWlsIHdpdGhpbiBwYXJ0aWN1bGFy
IHByb2Nlc3Nlcy4gSWYgdGhpcyBpcyByZWxhdGVkIHRvIGJpdG1hcHMsIEknZCBleHBlY3QgdGhl
IHRpbWUgdG8gZ28gdG8gdGhlICJlbnVtZXJhdGUtb2JqZWN0cyINCnJlZ2lvbi4NCg0KLVBlZmYN
CiMvKioqKioq5pys6YKu5Lu25Y+K5YW26ZmE5Lu25ZCr5pyJ5bCP57Gz5YWs5Y+455qE5L+d5a+G
5L+h5oGv77yM5LuF6ZmQ5LqO5Y+R6YCB57uZ5LiK6Z2i5Zyw5Z2A5Lit5YiX5Ye655qE5Liq5Lq6
5oiW576k57uE44CC56aB5q2i5Lu75L2V5YW25LuW5Lq65Lul5Lu75L2V5b2i5byP5L2/55So77yI
5YyF5ous5L2G5LiN6ZmQ5LqO5YWo6YOo5oiW6YOo5YiG5Zyw5rOE6Zyy44CB5aSN5Yi244CB5oiW
5pWj5Y+R77yJ5pys6YKu5Lu25Lit55qE5L+h5oGv44CC5aaC5p6c5oKo6ZSZ5pS25LqG5pys6YKu
5Lu277yM6K+35oKo56uL5Y2z55S16K+d5oiW6YKu5Lu26YCa55+l5Y+R5Lu25Lq65bm25Yig6Zmk
5pys6YKu5Lu277yBIFRoaXMgZS1tYWlsIGFuZCBpdHMgYXR0YWNobWVudHMgY29udGFpbiBjb25m
aWRlbnRpYWwgaW5mb3JtYXRpb24gZnJvbSBYSUFPTUksIHdoaWNoIGlzIGludGVuZGVkIG9ubHkg
Zm9yIHRoZSBwZXJzb24gb3IgZW50aXR5IHdob3NlIGFkZHJlc3MgaXMgbGlzdGVkIGFib3ZlLiBB
bnkgdXNlIG9mIHRoZSBpbmZvcm1hdGlvbiBjb250YWluZWQgaGVyZWluIGluIGFueSB3YXkgKGlu
Y2x1ZGluZywgYnV0IG5vdCBsaW1pdGVkIHRvLCB0b3RhbCBvciBwYXJ0aWFsIGRpc2Nsb3N1cmUs
IHJlcHJvZHVjdGlvbiwgb3IgZGlzc2VtaW5hdGlvbikgYnkgcGVyc29ucyBvdGhlciB0aGFuIHRo
ZSBpbnRlbmRlZCByZWNpcGllbnQocykgaXMgcHJvaGliaXRlZC4gSWYgeW91IHJlY2VpdmUgdGhp
cyBlLW1haWwgaW4gZXJyb3IsIHBsZWFzZSBub3RpZnkgdGhlIHNlbmRlciBieSBwaG9uZSBvciBl
bWFpbCBpbW1lZGlhdGVseSBhbmQgZGVsZXRlIGl0ISoqKioqKi8jDQo=
