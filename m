From: Junio C Hamano <gitster@pobox.com>
Subject: Re: [PATCH] cvsserver: change generation of CVS author names
Date: Tue, 06 Jan 2009 00:18:21 -0800
Message-ID: <7vbpuklueq.fsf@gitster.siamese.dyndns.org>
References: <1230910814-32307-1-git-send-email-fabian.emmes@rwth-aachen.de>
 <1230910814-32307-2-git-send-email-fabian.emmes@rwth-aachen.de>
 <7vwsdc3ulg.fsf@gitster.siamese.dyndns.org>
 <20090104111245.GA7732@lars.home.noschinski.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Cc: Fabian Emmes <fabian.emmes@rwth-aachen.de>, git@vger.kernel.org,
	Frank Lichtenheld <frank@lichtenheld.de>,
	Martin Langhoff <martin@catalyst.net.nz>
To: Lars Noschinski <lars@public.noschinski.de>
X-From: git-owner@vger.kernel.org Tue Jan 06 09:19:54 2009
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1LK7AG-0007cQ-Rs
	for gcvg-git-2@gmane.org; Tue, 06 Jan 2009 09:19:53 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1751381AbZAFISb (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Tue, 6 Jan 2009 03:18:31 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1751360AbZAFISa
	(ORCPT <rfc822;git-outgoing>); Tue, 6 Jan 2009 03:18:30 -0500
Received: from a-sasl-fastnet.sasl.smtp.pobox.com ([207.106.133.19]:40257 "EHLO
	sasl.smtp.pobox.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1751347AbZAFISa (ORCPT <rfc822;git@vger.kernel.org>);
	Tue, 6 Jan 2009 03:18:30 -0500
Received: from localhost.localdomain (unknown [127.0.0.1])
	by a-sasl-fastnet.sasl.smtp.pobox.com (Postfix) with ESMTP id 698F68DE2B;
	Tue,  6 Jan 2009 03:18:29 -0500 (EST)
Received: from pobox.com (unknown [68.225.240.211]) (using TLSv1 with cipher
 DHE-RSA-AES256-SHA (256/256 bits)) (No client certificate requested) by
 a-sasl-fastnet.sasl.smtp.pobox.com (Postfix) with ESMTPSA id 340578DE28; Tue,
  6 Jan 2009 03:18:23 -0500 (EST)
User-Agent: Gnus/5.110006 (No Gnus v0.6) Emacs/21.4 (gnu/linux)
X-Pobox-Relay-ID: 99620F7E-DBCA-11DD-B3D6-5720C92D7133-77302942!a-sasl-fastnet.pobox.com
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/104650>

Lars Noschinski <lars@public.noschinski.de> writes:

> Obviously the reported user names change. To the best of my knowledge
> (but I'm just a barely experienced CVS user) those names are not stored
> anywhere on the client and are regenerated by git-cvsserver for every
> request, so even old repositories get the new names for all commits.

Thanks for a clarification.  I'll amend the commit log message and queue
the result for 'next'.

commit d500a1ee8fe4424beb7a98e4fa6159677e7569d0
Author: Fabian Emmes <fabian.emmes@rwth-aachen.de>
Date:   Fri Jan 2 16:40:14 2009 +0100

    cvsserver: change generation of CVS author names
    
    CVS username is generated from local part email address.
    We take the whole local part but restrict the character set to the
    Portable Filename Character Set, which is used for Unix login names
    according to Single Unix Specification v3.
    
    This will obviously report different usernames from existing repositories
    for commits with the local part of the author e-mail address that contains
    characters outside the PFCS.  Hopefully this won't break an old CVS
    checkout from an earlier version of git-cvsserver, because the names are
    always shown afresh to the CVS clients and not kept on the client side.
    
    Signed-off-by: Fabian Emmes <fabian.emmes@rwth-aachen.de>
    Signed-off-by: Lars Noschinski <lars@public.noschinski.de>
    Signed-off-by: Junio C Hamano <gitster@pobox.com>
