From: Xiaolong Tang <xiaolong.snake@gmail.com>
Subject: Fatal errors on git rm (Operation not permitted)
Date: Wed, 23 Dec 2009 12:01:02 -0600
Message-ID: <m2oclp36zl.wl%xiaolong.snake@gmail.com>
Mime-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
To: git@vger.kernel.org
X-From: git-owner@vger.kernel.org Wed Dec 23 19:01:13 2009
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@lo.gmane.org
Received: from vger.kernel.org ([209.132.180.67])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1NNVWL-0007ff-3T
	for gcvg-git-2@lo.gmane.org; Wed, 23 Dec 2009 19:01:13 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1751989AbZLWSBH (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Wed, 23 Dec 2009 13:01:07 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1751877AbZLWSBH
	(ORCPT <rfc822;git-outgoing>); Wed, 23 Dec 2009 13:01:07 -0500
Received: from mail-gx0-f211.google.com ([209.85.217.211]:38309 "EHLO
	mail-gx0-f211.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1750899AbZLWSBF (ORCPT <rfc822;git@vger.kernel.org>);
	Wed, 23 Dec 2009 13:01:05 -0500
Received: by gxk3 with SMTP id 3so1615072gxk.1
        for <git@vger.kernel.org>; Wed, 23 Dec 2009 10:01:04 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:date:message-id:from:to
         :subject:user-agent:mime-version:content-type;
        bh=kBYfQ7kBSLsE7xjUZa7jI21IUyiqYuZW1wWLOHOEJPI=;
        b=mC1PdpC6nBIGPCELensd62UNbWhXzW0od+B6uogibzxNVtbEjkwAlQhVmQE2PZRXPS
         dFx0Dq/0Ot4qptGAaer0vUJmfPd4hBv0mhaZ4vCRqY97NuoXF+K0jT0G/w9f2rK8+Qqj
         51uDbGOWUenPiOkg39ZDum5kFalQ23IcoR7Uk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=date:message-id:from:to:subject:user-agent:mime-version
         :content-type;
        b=s3ZPU6sjxR8T1lrD9GIpXmXrtRrh29uHVz3CqB2ZbtbuHtvX8AtmVZ8L7LJ3V7kh4Z
         O1dLRCLCZD+bN++JwN4gsp+aTW5O0aCqxS+6szVIhpYYYVsFXUfXlM9QEyCytgPuqM47
         uhFxcgNHCXALFBmctGoWoac0w+Bn2ngwEePqo=
Received: by 10.150.246.3 with SMTP id t3mr8979791ybh.256.1261591264260;
        Wed, 23 Dec 2009 10:01:04 -0800 (PST)
Received: from xiaolong-tangs-macbook-pro.local.gmail.com (xiaolongtang.cs.tamu.edu [128.194.143.96])
        by mx.google.com with ESMTPS id 8sm2856989ywg.4.2009.12.23.10.01.03
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Wed, 23 Dec 2009 10:01:03 -0800 (PST)
User-Agent: SEMI/1.14.6 (Maruoka) FLIM/1.14.9 (=?ISO-8859-4?Q?Goj=F2?=)
 APEL/10.7 Emacs/22.3 (i386-apple-darwin9.7.0) MULE/5.0 (SAKAKI)
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/135627>

Hi all, 

I am running into a trouble with git commands. 

I have a repository in my laptop to keep all system settings. 
Specifically, the repository is illustrated as below:
 
reproot/
.git
.gitignore 
`-- lib
    `-- emacs
        `-- lisp
            |-- dictionary
            ...
            |-- git-emacs 
            |   |-- ...
            |   |-- ...
            |   |-- ...
            .. 
            |-- remember  

To ease the updating of these third-party Emacs packages (e.g. dictionary, git-emacs, remember and so on), I prefer to get them via version control commands. 
For example, git-emacs is created via this command:
git://github.com/tsgates/git-emacs 

This strategy seems to work well when I include (within my laptop repository) those packages which are not managed via git. 
On the contrary, the trouble arises from including another git repository.

For example, when I try to clone my laptop repository into my desktop, the package "git-emacs" only shows up as an empty directory in the newly repository. 

Then when I go back to my laptop repository, there is nothing I can do.
Finally, I decide to remove this package from my laptop repository, but end up with the following errors:

git rm -rf git-emacs
rm 'lib/emacs/lisp/git-emacs'
fatal: git rm: 'lib/emacs/lisp/git-emacs': Operation not permitted

The similar errors happen with removing remember(another package under git) too.
11:53:37->git rm -rf remember
rm 'lib/emacs/lisp/remember'
fatal: git rm: 'lib/emacs/lisp/remember': Operation not permitted

So, below are my questions:
What is the real cause of such kind of problem?
How could I fix it?

PS: I did not use git submodule command.

Thanks!
Xiaolong
