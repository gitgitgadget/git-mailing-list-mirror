From: =?ISO-8859-1?Q?S=E9bastien?= Cevey <seb@cine7.net>
Subject: Re: [PATCH v3 3/3] gitweb: Optional grouping of projects by category
Date: Fri, 12 Dec 2008 00:34:14 +0100
Message-ID: <878wqmz3pl.wl%seb@cine7.net>
References: <87wsei1uvp.wl%seb@cine7.net>
	<200812050308.52891.jnareb@gmail.com>
	<87bpvr1hee.wl%seb@cine7.net>
	<200812051145.09732.jnareb@gmail.com>
Mime-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
Cc: git@vger.kernel.org, Junio C Hamano <gitster@pobox.com>,
	Petr Baudis <pasky@suse.cz>,
	Gustavo Sverzut Barbieri <barbieri@profusion.mobi>
To: Jakub Narebski <jnareb@gmail.com>
X-From: git-owner@vger.kernel.org Fri Dec 12 00:34:39 2008
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1LAv3F-0002oD-7W
	for gcvg-git-2@gmane.org; Fri, 12 Dec 2008 00:34:37 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1755735AbYLKXdN convert rfc822-to-quoted-printable (ORCPT
	<rfc822;gcvg-git-2@m.gmane.org>); Thu, 11 Dec 2008 18:33:13 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1755875AbYLKXdN
	(ORCPT <rfc822;git-outgoing>); Thu, 11 Dec 2008 18:33:13 -0500
Received: from smtp.nimag.net ([62.220.136.11]:52223 "EHLO smtp.nimag.net"
	rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
	id S1755122AbYLKXdM convert rfc822-to-8bit (ORCPT
	<rfc822;git@vger.kernel.org>); Thu, 11 Dec 2008 18:33:12 -0500
Received: from crookshanks.cine7.net (85-218-42-96.dclient.lsne.ch [85.218.42.96])
	by smtp.nimag.net (Postfix) with ESMTP id 208B0CB0AA3;
	Fri, 12 Dec 2008 00:33:09 +0100 (CET)
In-Reply-To: <200812051145.09732.jnareb@gmail.com>
User-Agent: Wanderlust/2.14.0 (Africa)
X-Message-Flag: OUTLOOK ERROR: Large chicken feathers stuck in power supply fan.
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/102841>

At Fri, 5 Dec 2008 11:45:08 +0100, Jakub Narebski wrote:

> > > Nice... but perhaps it would be better to simply pass $from / $to=
 to
> > > build_projlist_by_category function, and have in %categories only
> > > projects which are shown...
> >=20
> > Ah you're right, we could do that, I hadn't thought of it.  Sounds
> > cleaner than the $from/$to dance I did in this patch.
>
> [...] we can simply pass $from and $to to
> build_projlist_by_category(), and use loop $from..$to there.

I just tried, it works but we first need to sort @projects by
category.

> Somehow I couldn't apply second patch in series:
>=20
>  $ git am -3 -u "[PATCH v3 2_3] gitweb: Split git_project_list_body i=
n two functions.txt"
>  Applying: gitweb: Split git_project_list_body in two functions
>  error: patch failed: gitweb/gitweb.perl:3972
>  error: gitweb/gitweb.perl: patch does not apply
>  fatal: sha1 information is lacking or useless (gitweb/gitweb.perl).
>  Repository lacks necessary blobs to fall back on 3-way merge.
>  Cannot fall back to three-way merge.
>  Patch failed at 0001.

Where does it find the reference to the "necessary blobs"?  Could it
be because I didn't leave the From OBJECTID DATE line in my email
header?

Seems like there was a recent change on the line

  my $check_forks =3D gitweb_check_feature('forks');

so I had to update my patch to apply cleanly on the current master
HEAD.

I'm gonna re-send the three patches as a new version.

--=20
S=E9bastien Cevey / inso.cc
