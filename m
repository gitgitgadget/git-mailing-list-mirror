From: Xiaolong Tang <xiaolong.snake@gmail.com>
Subject: Fatal errors on git rm (Operation not permitted)
Date: Wed, 23 Dec 2009 11:58:37 -0600
Message-ID: <m2pr65373m.wl%xiaolong.snake@gmail.com>
Mime-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
To: git@vger.kernel.org
X-From: git-owner@vger.kernel.org Wed Dec 23 18:58:52 2009
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@lo.gmane.org
Received: from vger.kernel.org ([209.132.180.67])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1NNVU3-0006Wt-EN
	for gcvg-git-2@lo.gmane.org; Wed, 23 Dec 2009 18:58:51 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1755426AbZLWR6q (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Wed, 23 Dec 2009 12:58:46 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1754235AbZLWR6q
	(ORCPT <rfc822;git-outgoing>); Wed, 23 Dec 2009 12:58:46 -0500
Received: from mail-gx0-f211.google.com ([209.85.217.211]:61236 "EHLO
	mail-gx0-f211.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1753911AbZLWR6p (ORCPT <rfc822;git@vger.kernel.org>);
	Wed, 23 Dec 2009 12:58:45 -0500
Received: by gxk3 with SMTP id 3so1612933gxk.1
        for <git@vger.kernel.org>; Wed, 23 Dec 2009 09:58:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:date:message-id:from:to
         :subject:user-agent:mime-version:content-type;
        bh=ueUJ2iijKBvVk7bKpicX7WE1/Pp5LXUApxKxG32DgDU=;
        b=tFQf7czf+nGAbIp6I7vW1aUWro7HP6mrf+NbUpwEGv5Elt4sL93csMvOvoW5tRCkul
         21GVftMKKcWzwgkuQg3UYy/4vPY9/gTRgKYs24cuwV9hOaNwISesEs5nwDLsb/DRmcJE
         nxRuU5FjwIzfvwUa0ycJUn9GNfmjCX9KJcsZQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=date:message-id:from:to:subject:user-agent:mime-version
         :content-type;
        b=F8UJzQkmfFejIKZj96LXqAQsYEZULwne0gpLzAXM/DW8UuYSjnU8MKNdZij1VBMMQe
         CZxCzCZ7D3Pnz4Q/b/hW2VY0USUIn93mWIrAHA3WRm9PnlFMPyF6scl30dSsyVJSx7KJ
         8Oa4exshcX0vjKI5VqUq8TAEcGLvfua2xCN+E=
Received: by 10.101.10.2 with SMTP id n2mr4193460ani.10.1261591120322;
        Wed, 23 Dec 2009 09:58:40 -0800 (PST)
Received: from xiaolong-tangs-macbook-pro.local.gmail.com (xiaolongtang.cs.tamu.edu [128.194.143.96])
        by mx.google.com with ESMTPS id 7sm2851276ywf.25.2009.12.23.09.58.39
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Wed, 23 Dec 2009 09:58:40 -0800 (PST)
User-Agent: SEMI/1.14.6 (Maruoka) FLIM/1.14.9 (=?ISO-8859-4?Q?Goj=F2?=)
 APEL/10.7 Emacs/22.3 (i386-apple-darwin9.7.0) MULE/5.0 (SAKAKI)
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/135626>

Hi all, 

I am running into a trouble with git commands. 

I have a repository in my laptop to keep all system settings. 
Specifally, the reposiroty is illustrated as below:
 
reproot/
.git
.gitignore 
`-- lib
    `-- emacs
        `-- lisp
            |-- dictionary
            ...
            |-- git-emacs 
            |   |-- ...
            |   |-- ...
            |   |-- ...
            .. 
            |-- remember  

To ease the updating of these third-party eamcs packages (e.g. dictionary, git-emacs, remember and so on), I perfer to get them via version control commands. 
For example, git-emacs is created via this command:
git://github.com/tsgates/git-emacs 

This strategy seems to work well when I include (within my laptop repository) those packages which are not managed via git. 
On the contrary, the trouble arises from including another git repository.

For example, when I try to clone my laptop repository into my desktop, the package "git-emacs" only shows up as an empty directory in the newly repository. 

Then when I go back to my laptop repository, there is nothing I can do.
Finally, I decide to remove this package from my laptop repository, but end up with the following errors:

git rm -rf git-emacs
rm 'lib/emacs/lisp/git-emacs'
fatal: git rm: 'lib/emacs/lisp/git-emacs': Operation not permitted

The similar errors happen with remvoing remember(another package under git) too.
11:53:37->git rm -rf remember
rm 'lib/emacs/lisp/remember'
fatal: git rm: 'lib/emacs/lisp/remember': Operation not permitted

So, below are my questions:
What is the real cause of such kind of problem?
How could I fix it?

PS: I did not use git submodule command.

Thanks!
Xiaolong
