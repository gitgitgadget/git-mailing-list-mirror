From: "Trenton D. Adams" <trenton.d.adams@gmail.com>
Subject: Re: git instaweb - share all project files
Date: Wed, 10 Apr 2013 16:42:20 -0600
Message-ID: <CAMg8Y2qm9FuuMZh7jsAEyr=joUbsp=5V_zU5U86sW0Y=f2OVBA@mail.gmail.com>
References: <CAMg8Y2pFXrbh8cz6m5z=LsksRijLVcV4fTk-TBx+9yaQTtAzpA@mail.gmail.com>
	<51659B5B.6000707@gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: QUOTED-PRINTABLE
Cc: git@vger.kernel.org
To: =?UTF-8?Q?Jakub_Nar=C4=99bski?= <jnareb@gmail.com>
X-From: git-owner@vger.kernel.org Thu Apr 11 00:42:31 2013
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@plane.gmane.org
Received: from vger.kernel.org ([209.132.180.67])
	by plane.gmane.org with esmtp (Exim 4.69)
	(envelope-from <git-owner@vger.kernel.org>)
	id 1UQ3io-0003kN-QV
	for gcvg-git-2@plane.gmane.org; Thu, 11 Apr 2013 00:42:31 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1765174Ab3DJWmW convert rfc822-to-quoted-printable (ORCPT
	<rfc822;gcvg-git-2@m.gmane.org>); Wed, 10 Apr 2013 18:42:22 -0400
Received: from mail-ob0-f173.google.com ([209.85.214.173]:39901 "EHLO
	mail-ob0-f173.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1761304Ab3DJWmV convert rfc822-to-8bit (ORCPT
	<rfc822;git@vger.kernel.org>); Wed, 10 Apr 2013 18:42:21 -0400
Received: by mail-ob0-f173.google.com with SMTP id wn14so907871obc.18
        for <git@vger.kernel.org>; Wed, 10 Apr 2013 15:42:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:x-received:in-reply-to:references:date:message-id
         :subject:from:to:cc:content-type:content-transfer-encoding;
        bh=HPyfCCC1HWQYo4nGD7lve3e3ngmc4Kp4H1h9SuSdlLw=;
        b=Foh5j8X9ya1cZ4qaVkCpZVDTt/Dp1PIZ5bAYWUT/+sabkjjqG8zq0J71VQIlYauLmr
         G9w74Kyoekumq9pTlRIUZdMYIyg00XbtswVIfmerRDLaQCSZ3IYuxNOpMSR2SFJFOz4C
         aYy/nhLNun32DiovUXBFtQxhyg+Cu7182iiQuOsBo14HJMK7fc88h4FJXRvQr03xU88S
         q3EtszzYVXts7hemA0UP1ecgybNzh7aVy85+0WNLFPHzhH4PxXy0AoKghgU5HIWhd1bg
         TznBWMFPS9Sy0uNtI4/te7k+HCzKcAzjwQ2ENsGxtC4ewFe8qUNKuPuBP6ekHa1qlPRf
         yrQQ==
X-Received: by 10.60.47.111 with SMTP id c15mr1438409oen.86.1365633740984;
 Wed, 10 Apr 2013 15:42:20 -0700 (PDT)
Received: by 10.182.250.164 with HTTP; Wed, 10 Apr 2013 15:42:20 -0700 (PDT)
In-Reply-To: <51659B5B.6000707@gmail.com>
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/220791>

#1 would actually work.  Though long term it would be cool to view it
with all the most recent commit information, kind of like github does.
 You know, showing "updated 4 days ago".

On Wed, Apr 10, 2013 at 11:03 AM, Jakub Nar=C4=99bski <jnareb@gmail.com=
> wrote:
> W dniu 07.04.2013 05:02, Trenton D. Adams pisze:
>
>> On that first page that shows up, it shows the .git folder.  It woul=
d
>> be kind of nice if it shared out both the git repo and the actual
>> current project files.  I frequently have stuff I'd like to see in a
>> web browser, and even requires one (i.e. Navigating to
>> file:///home/blah/blah doesn't work; ajax requests for example)
>
> There are a few possible solutions, from simplest to most complicated=
:
>
> 1. Configure gitweb ran by git-instaweb to have 'worktree' link in
>    the action bar pointing to 'file:///path/to/repo' (or rather
>    'file:///path/to/workdir') via 'actions' feature, adding e.g.
>
>      $feature{'actions'}{'default'} =3D
>         [('worktree', 'file:///path/to/repo', 'summary')];
>
>    to gitweb_config.perl / gitweb.conf used by git-instaweb's gitweb.
>
>    This of course works only for local use, so either git-instaweb
>    or gitweb (in config) should check that we use it locally
>    (e.g. if hostname is 'localhost' or equivalent).
>
> 2. In the web server configuration generated by git-instaweb, perhaps
>    as an option, add serving of worktree (with mod_autoindex aka.
>    'Options +Indexes' for Apache2, and equivalent solutions for *all*
>    other supported web servers: lighttpd, mongoose, plack, webrick).
>
>    This may require some fiddling with URI rewriting, or change of
>    gitweb URI, to be able to have both worktree index and gitweb
>    script (gitweb is now under '/'), so it should probably be protect=
ed
>    by an option to git-instaweb.
>
> 3. Add proper support to gitweb: add 'worktree' action (similar to
>    'tree' action / view).  Probably needs to be made somewhat
>    configurable (and of course enabled in git-instaweb).
>
>
> Unfortunately solution 1.) which is simplest is not enough for your
> situation...
>
> I can add 3.) to my gitweb TODO, but I don't know when I would be abl=
e
> to get to implementing it.
> --
> Jakub Nar=C4=99bski
>
