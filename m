Return-Path: <git-owner@vger.kernel.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on dcvr.yhbt.net
X-Spam-Level: 
X-Spam-ASN: AS31976 209.132.180.0/23
X-Spam-Status: No, score=-5.6 required=3.0 tests=AWL,BAYES_00,DKIM_SIGNED,
	DKIM_VALID,DKIM_VALID_AU,FREEMAIL_FORGED_FROMDOMAIN,FREEMAIL_FROM,
	HEADER_FROM_DIFFERENT_DOMAINS,RCVD_IN_DNSWL_HI,RCVD_IN_SORBS_SPAM,
	RP_MATCHES_RCVD shortcircuit=no autolearn=ham autolearn_force=no version=3.4.0
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by dcvr.yhbt.net (Postfix) with ESMTP id D41BC1FEB3
	for <e@80x24.org>; Tue,  3 Jan 2017 12:33:12 +0000 (UTC)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1758671AbdACMdL (ORCPT <rfc822;e@80x24.org>);
        Tue, 3 Jan 2017 07:33:11 -0500
Received: from mail-io0-f195.google.com ([209.85.223.195]:32912 "EHLO
        mail-io0-f195.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1758645AbdACMdJ (ORCPT <rfc822;git@vger.kernel.org>);
        Tue, 3 Jan 2017 07:33:09 -0500
Received: by mail-io0-f195.google.com with SMTP id j76so32285190ioe.0
        for <git@vger.kernel.org>; Tue, 03 Jan 2017 04:33:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc;
        bh=Tx5akXXKgvZyZhsARUS7QTOXhjDOQoZwKpcECFbbzcE=;
        b=neF1+r1wMuCWlFhr+8vFLTvsNxD+VQV3YZ3bhUTh6mFoduqu7iLZI7DcM9mvNOuYff
         /7Sdy2uzq+MB1Z2cC6z+o84jVUGGOP2INXxIpTOz5q44Sr/oWc3NEOgC9jaFiSYFpMs3
         +aR9Vgr3Ra5GBypLeXxiP6w2ts7hrvIqOCuHxRQ7BxT2Wux6WrHlNGUUVhG3sgGlb5UJ
         Me/rInKMFlo0NPHpDENn40Q4vKIg/XRxfwcJCCdvsTTborv+n9MXQ1/qiZAAWgXuXth+
         rjrWy5ZZCUNUeIwdzgwmcXY9//mg40muNruSrZTf6cH6tY2r+1KC6D6NDAFaOUffSOaB
         JB6Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:cc;
        bh=Tx5akXXKgvZyZhsARUS7QTOXhjDOQoZwKpcECFbbzcE=;
        b=c8WCArSitE8PLDXezZD7bwiD28Dj1NZ+/ppVgC7TwkS/ZiiqfyVP6OrM+VE7+L+jUr
         IO0jPPP971Cm+hxN11+KHogvG274cvlHU4V0RQHx0iQUBNBpzGR95nyPHr0P+AXAfG/9
         c5fn5xldVZaxqagO4zNJ6alwEI2Vq8pkd3+QtUq9o0zZwlPpK/A4wdsHE54q05aNTS2t
         OxlAWcCGaV1W7zpC2nFh7zxQ2zb0AwUmmA3eVWyzZwAJdBMACcuBs9I89EWQKr0VtFRH
         EgAyFVvlCw2kcrvcbVRxeITifyY4ShvX1MnMdoPlt4TDLLRXa1G9Gh70o3eCxUl93zYl
         cxzw==
X-Gm-Message-State: AIkVDXI6mu7thm+dOVIzLjC1G6YacwGgPqFjtqsnnIql/h4s/wdNK2ip0GACnAqFA8kOh1YQDSwHohY00zW0Wg==
X-Received: by 10.107.59.9 with SMTP id i9mr54883828ioa.176.1483446431606;
 Tue, 03 Jan 2017 04:27:11 -0800 (PST)
MIME-Version: 1.0
Received: by 10.64.69.3 with HTTP; Tue, 3 Jan 2017 04:26:41 -0800 (PST)
In-Reply-To: <cover.1483354746.git.git@drmicha.warpmail.net>
References: <cover.1483354746.git.git@drmicha.warpmail.net>
From:   Duy Nguyen <pclouds@gmail.com>
Date:   Tue, 3 Jan 2017 19:26:41 +0700
Message-ID: <CACsJy8A123cdEn03p590Hxdg5fujdDAH3BU8s9hZmuOY6ok3sg@mail.gmail.com>
Subject: Re: [RFC PATCH 0/5] Localise error headers
To:     Michael J Gruber <git@drmicha.warpmail.net>
Cc:     Git Mailing List <git@vger.kernel.org>
Content-Type: text/plain; charset=UTF-8
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org

On Mon, Jan 2, 2017 at 6:14 PM, Michael J Gruber
<git@drmicha.warpmail.net> wrote:
> Currently, the headers "error: ", "warning: " etc. - generated by die(),
> warning() etc. - are not localized, but we feed many localized error messages
> into these functions so that we produce error messages with mixed localisation.
>
> This series introduces variants of die() etc. that use localised variants of
> the headers, i.e. _("error: ") etc., and are to be fed localized messages. So,
> instead of die(_("not workee")), which would produce a mixed localisation (such
> as "error: geht ned"), one should use die_(_("not workee")) (resulting in
> "Fehler: geht ned").

Another option, not as thorough, but less effort, is changing
die/err/warn default routines to the "porcelain" versions where we do
_("fatal:") internally _with_ die(), not die_(). We can set this for
porcelain commands that we know can be fully i18n-ized. Then maybe
die_() will fill in the gap if there's still need for it.
-- 
Duy
