From: Pavel Roskin <proski@gnu.org>
Subject: [PATCH] Clarify that git-update-server-info should be run for every
	git-push
Date: Tue, 13 Feb 2007 00:43:44 -0500
Message-ID: <20070213054344.2165.52980.stgit@dv.roinet.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: 7bit
To: git@vger.kernel.org, Junio C Hamano <junkio@cox.net>
X-From: git-owner@vger.kernel.org Tue Feb 13 06:43:52 2007
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git@gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1HGqSF-0000lt-P1
	for gcvg-git@gmane.org; Tue, 13 Feb 2007 06:43:52 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1161084AbXBMFnr (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Tue, 13 Feb 2007 00:43:47 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1161086AbXBMFnr
	(ORCPT <rfc822;git-outgoing>); Tue, 13 Feb 2007 00:43:47 -0500
Received: from fencepost.gnu.org ([199.232.76.164]:34180 "EHLO
	fencepost.gnu.org" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1161084AbXBMFnq (ORCPT <rfc822;git@vger.kernel.org>);
	Tue, 13 Feb 2007 00:43:46 -0500
Received: from proski by fencepost.gnu.org with local (Exim 4.60)
	(envelope-from <proski@gnu.org>)
	id 1HGqQt-0007Kf-K3
	for git@vger.kernel.org; Tue, 13 Feb 2007 00:42:27 -0500
Received: from localhost ([127.0.0.1] helo=dv.roinet.com)
	by gnu.org with esmtp (Exim 4.66)
	(envelope-from <proski@gnu.org>)
	id 1HGqS8-0000ZE-MA; Tue, 13 Feb 2007 00:43:44 -0500
User-Agent: StGIT/0.12
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/39497>

The old text suggested that git-update-server-info only needs to be run
if new tags or branches are created, but not for new commits.

Signed-off-by: Pavel Roskin <proski@gnu.org>
---

 Documentation/repository-layout.txt |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/Documentation/repository-layout.txt b/Documentation/repository-layout.txt
index 863cb67..0459bd9 100644
--- a/Documentation/repository-layout.txt
+++ b/Documentation/repository-layout.txt
@@ -133,14 +133,14 @@ info::
 	in this directory.
 
 info/refs::
-	This file is to help dumb transports to discover what
-	refs are available in this repository.  Whenever you
-	create/delete a new branch or a new tag, `git
-	update-server-info` should be run to keep this file
-	up-to-date if the repository is published for dumb
-	transports.  The `git-receive-pack` command, which is
-	run on a remote repository when you `git push` into it,
-	runs `hooks/update` hook to help you achieve this.
+	This file helps dumb transports discover what refs are
+	available in this repository.  If the repository is
+	published for dumb transports, this file should be
+	regenerated by `git update-server-info` every time a tag
+	or branch is created or modified.  This is normally done
+	from the `hooks/update` hook, which is run by the
+	`git-receive-pack` command when you `git push` into the
+	repository.
 
 info/grafts::
 	This file records fake commit ancestry information, to
