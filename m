From: Jeff King <peff@peff.net>
Subject: Re: Problem with git shortlog documentation
Date: Sun, 23 Dec 2007 12:18:40 -0500
Message-ID: <20071223171840.GA8799@sigill.intra.peff.net>
References: <476E6DA0.9000908@isy.liu.se>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Cc: Git Mailing List <git@vger.kernel.org>
To: Gustaf Hendeby <hendeby@isy.liu.se>
X-From: git-owner@vger.kernel.org Sun Dec 23 18:19:12 2007
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1J6UTm-00047S-Hj
	for gcvg-git-2@gmane.org; Sun, 23 Dec 2007 18:19:10 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1753122AbXLWRSo (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Sun, 23 Dec 2007 12:18:44 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1753087AbXLWRSo
	(ORCPT <rfc822;git-outgoing>); Sun, 23 Dec 2007 12:18:44 -0500
Received: from 66-23-211-5.clients.speedfactory.net ([66.23.211.5]:2166 "EHLO
	peff.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
	id S1752387AbXLWRSn (ORCPT <rfc822;git@vger.kernel.org>);
	Sun, 23 Dec 2007 12:18:43 -0500
Received: (qmail 16969 invoked by uid 111); 23 Dec 2007 17:18:41 -0000
Received: from sigill.intra.peff.net (HELO sigill.intra.peff.net) (10.0.0.7)
  (smtp-auth username relayok, mechanism cram-md5)
  by peff.net (qpsmtpd/0.32) with ESMTP; Sun, 23 Dec 2007 12:18:41 -0500
Received: by sigill.intra.peff.net (sSMTP sendmail emulation); Sun, 23 Dec 2007 12:18:40 -0500
Content-Disposition: inline
In-Reply-To: <476E6DA0.9000908@isy.liu.se>
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/69187>

On Sun, Dec 23, 2007 at 03:16:00PM +0100, Gustaf Hendeby wrote:

> I was just looking through the documentation for git shortlog, and realized 
> there is a problem with FILES section close to the bottom.  In the version I 
> built of the man page (asciidoc 8.2.1, yes I used the compatibility define) 
> the filename .mailmap is missing, and the text starts with "If this file 
> exists, ...".

I mentioned this same issue a few weeks ago:

  <20071211124220.GA17929@sigill.intra.peff.net>

but got no response. Under modern asciidoc, it the man page looks like
this:

.SH "FILES"
.PP
\.mailmap
.RS 4
If this ...

which I would have thought would render fine, but doesn't (though I
don't really know troff). Doing " .mailmap" looks OK.

However, the version of the manpages in Junio's origin/man has the awful
"Example 1. .mailmap" generated by asciidoc, so it's clearly a bug-prone
construct.

I think re-wording is a fine fix, at least for now.

> Something like this (would we then like to reindent this?  it would make the 
> change look much bigger), which seems to work with my asciidoc version:

If by "reindent" you mean not just "wrap the long line" but "the whole
paragraph should start at the beginning of the line, since it's no
longer part of the list element", then

Acked-by: Jeff King <peff@peff.net>

-Peff
