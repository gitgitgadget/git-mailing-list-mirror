From: Carl Worth <cworth@cworth.org>
Subject: Re: [PATCH] tone down the detached head warning
Date: Wed, 31 Jan 2007 15:54:01 -0800
Message-ID: <87wt32ah2e.wl%cworth@cworth.org>
References: <Pine.LNX.4.64.0701311405430.3021@xanadu.home>
	<20070131231942.GB31145@coredump.intra.peff.net>
Mime-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: multipart/signed;
 boundary="pgp-sign-Multipart_Wed_Jan_31_15:53:51_2007-1"; micalg=pgp-sha1;
 protocol="application/pgp-signature"
Content-Transfer-Encoding: 7bit
Cc: Nicolas Pitre <nico@cam.org>, Junio C Hamano <junkio@cox.net>,
	git@vger.kernel.org
To: Jeff King <peff@peff.net>
X-From: git-owner@vger.kernel.org Thu Feb 01 00:54:18 2007
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git@gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1HCPHK-0000w8-O6
	for gcvg-git@gmane.org; Thu, 01 Feb 2007 00:54:15 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S933358AbXAaXyK (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Wed, 31 Jan 2007 18:54:10 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S933359AbXAaXyK
	(ORCPT <rfc822;git-outgoing>); Wed, 31 Jan 2007 18:54:10 -0500
Received: from cworth.org ([217.160.249.188]:49735 "EHLO theworths.org"
	rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
	id S933358AbXAaXyI (ORCPT <rfc822;git@vger.kernel.org>);
	Wed, 31 Jan 2007 18:54:08 -0500
Received: (qmail 13875 invoked from network); 31 Jan 2007 18:54:02 -0500
Received: from localhost (HELO raht.cworth.org) (127.0.0.1)
  by localhost with SMTP; 31 Jan 2007 18:54:02 -0500
In-Reply-To: <20070131231942.GB31145@coredump.intra.peff.net>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.4 Mule/5.0 (SAKAKI)
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/38310>

--pgp-sign-Multipart_Wed_Jan_31_15:53:51_2007-1
Content-Type: text/plain; charset=US-ASCII

On Wed, 31 Jan 2007 18:19:43 -0500, Jeff King wrote:
> I like this much better. Though I wonder in Carl's case if we can do
> even better, since the user is checking out a tracking branch. Does it
> really make sense to say "you are not on ANY branch"? Maybe instead:
...
> Carl, can you comment? Does this require more explanation about why it
> matters that you're on a remote tracking branch?

Getting rid of the word "Warning" and naming the remote-tracking
branch instead of saying "not on ANY branch", (my, why should git ever
yell like that?), are definitely improvements.

But they're fairly incremental. The fact is that the user is doing a
very simple operation here, (just checking out a state for which git
already has a name), and the user is given 3 lines of text to read and
try to understand, (what the heck is a "remote tracking branch"
anyway?). It still looks to me like the kind of thing that promotes a
"git is hard to use" conception.

But, back to the original use case that brought this up. I did botch
something in the original description. The "git clone; git checkout
origin/branch-name" case does trigger the detached head state with its
warnings. But the other alternative I showed does not:

	git fetch git://... branch-name:branch-name

Here, of course the user can use:

	git checkout branch-name

and not ever enter the "detached HEAD" state at all. So with this
usage the discussion about where and when to warn becomes moot.

But this still isn't satisfying to me as something to offer users, as
I'd really like them to be able to just "git pull" to follow
subsequent things I commit to the branch. But for that the user would
still need a bunch of configuration setup.

So it does come around to the fact that I'd like it to be easier for a
user to get all the configuration setup for a local branch that knows
which remote-tracking branch its associated with, (and this whether or
not the remote-tracking branch was configured as part of the original
clone or not).

-Carl

--pgp-sign-Multipart_Wed_Jan_31_15:53:51_2007-1
Content-Type: application/pgp-signature
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.5 (GNU/Linux)

iD8DBQBFwSwZ6JDdNq8qSWgRAoQoAJ4zv+pnAW2a/AcX5MaAj/MG8Isc2wCfUHmW
SRYYlei8UmWAuxbrG+NQWHg=
=mzlx
-----END PGP SIGNATURE-----

--pgp-sign-Multipart_Wed_Jan_31_15:53:51_2007-1--
