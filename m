From: Jeff King <peff@peff.net>
Subject: Re: Bad Man Page URLs
Date: Thu, 5 Apr 2012 22:32:23 -0400
Message-ID: <20120406023223.GB16264@sigill.intra.peff.net>
References: <2AC038A1-3D8D-425E-92B3-DADFD027761A@justatheory.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8
Cc: git@vger.kernel.org
To: "David E. Wheeler" <david@justatheory.com>
X-From: git-owner@vger.kernel.org Fri Apr 06 04:33:02 2012
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@plane.gmane.org
Received: from vger.kernel.org ([209.132.180.67])
	by plane.gmane.org with esmtp (Exim 4.69)
	(envelope-from <git-owner@vger.kernel.org>)
	id 1SFyyy-0006ND-OM
	for gcvg-git-2@plane.gmane.org; Fri, 06 Apr 2012 04:33:01 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1757119Ab2DFCc1 (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Thu, 5 Apr 2012 22:32:27 -0400
Received: from 99-108-226-0.lightspeed.iplsin.sbcglobal.net ([99.108.226.0]:49507
	"EHLO peff.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
	id S1754241Ab2DFCc0 (ORCPT <rfc822;git@vger.kernel.org>);
	Thu, 5 Apr 2012 22:32:26 -0400
Received: (qmail 30497 invoked by uid 107); 6 Apr 2012 02:32:29 -0000
Received: from sigill.intra.peff.net (HELO sigill.intra.peff.net) (10.0.0.7)
  (smtp-auth username relayok, mechanism cram-md5)
  by peff.net (qpsmtpd/0.84) with ESMTPA; Thu, 05 Apr 2012 22:32:29 -0400
Received: by sigill.intra.peff.net (sSMTP sendmail emulation); Thu, 05 Apr 2012 22:32:23 -0400
Content-Disposition: inline
In-Reply-To: <2AC038A1-3D8D-425E-92B3-DADFD027761A@justatheory.com>
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/194837>

On Thu, Apr 05, 2012 at 06:48:19PM -0700, David E. Wheeler wrote:

> I noticed this in 1.7.7.3, but just rebuilt 1.7.9.6 from source on OS
> X Lion and am still seeing it. These are the links at the end of `man
> git`:
> [...]
> >         1. Everyday Git
> >            file:///home/junio/share/doc/git-doc/everyday.html

The problem is that you are not really rebuilding the manpages at all,
but rather just untarring prebuilt copies. If you built them yourself,
they would have the proper prefix for your system.

That being said, it would be nice for the prebuilt manpages to have
something more location-agnostic in them. These links are generated by
asciidoc's "link:" directive. The HTML versions properly use relative
links, but the links are expanded into full URLs for the manpages. Which
makes sense, since there's no concept of a relative link here.

So we can tweak it by using a custom link macro (we already have
"linkgit" for linking to actual commands). But what should the agnostic
version say? Just saying "look at everday.html in the git documentation"
is not as nice as a real URL, but we really don't have any more
information than that. Maybe they should be pointing to some canonical
version on the web?

> Is there a bug reporting system I should report this to?

This list, and you just did. :)

-Peff
