From: Olaf Hering <olaf@aepfle.de>
Subject: Re: [PATCH] git-gui: sort entries in tclIndex
Date: Tue, 10 Feb 2015 16:18:03 +0100
Message-ID: <20150210151803.GB8965@aepfle.de>
References: <1422292043-12711-1-git-send-email-olaf@aepfle.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8
To: git@vger.kernel.org
X-From: git-owner@vger.kernel.org Tue Feb 10 16:18:14 2015
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@plane.gmane.org
Received: from vger.kernel.org ([209.132.180.67])
	by plane.gmane.org with esmtp (Exim 4.69)
	(envelope-from <git-owner@vger.kernel.org>)
	id 1YLCZp-0008K6-2z
	for gcvg-git-2@plane.gmane.org; Tue, 10 Feb 2015 16:18:13 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1750888AbbBJPSH (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Tue, 10 Feb 2015 10:18:07 -0500
Received: from mo4-p00-ob.smtp.rzone.de ([81.169.146.161]:10196 "EHLO
	mo4-p00-ob.smtp.rzone.de" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1750756AbbBJPSG (ORCPT <rfc822;git@vger.kernel.org>);
	Tue, 10 Feb 2015 10:18:06 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; t=1423581483; l=912;
	s=domk; d=aepfle.de;
	h=In-Reply-To:Content-Disposition:Content-Type:MIME-Version:
	References:Subject:To:From:Date;
	bh=uMiQODtIfjn+6bv0nLevEUMI7kfy0x2kAPluqC+yE5U=;
	b=whSawRpu91fYPcXZZ3ZaMAGH4p1UCU50mIEce9uMtDfbp4CAMCQyCWyxTSzB3xOJx5s
	RCY3KUkwcqSPX1N64LTq25xiv3sqhhE9GNzXPlLIwj1s7RwrbGP1+k1fgvxzoxBO3q6wz
	e0yjNrkDwxyUoR+fG/vliVphs7R2+pKjpo0=
X-RZG-AUTH: :P2EQZWCpfu+qG7CngxMFH1J+yackYocTD1iAi8x+OWi/zfN1cLnBYfssDIlSQZelGPTkz+JJHiQM2XCL4FiyQ+n/+A0DGQ==
X-RZG-CLASS-ID: mo00
Received: from probook.fritz.box ([2001:a60:1087:7e01:1ec1:deff:feb9:bb48])
	by smtp.strato.de (RZmta 37.2 AUTH)
	with ESMTPSA id j05ef8r1AFI3LRZ
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	for <git@vger.kernel.org>;
	Tue, 10 Feb 2015 16:18:03 +0100 (CET)
Received: by probook.fritz.box (Postfix, from userid 1000)
	id 6A76050299; Tue, 10 Feb 2015 16:18:03 +0100 (CET)
Content-Disposition: inline
In-Reply-To: <1422292043-12711-1-git-send-email-olaf@aepfle.de>
User-Agent: Mutt/1.5.22.rev6346 (2013-10-29)
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/263632>

Ping?

On Mon, Jan 26, Olaf Hering wrote:

> ALL_LIBFILES uses wildcard, which provides the result in directory
> order. This order depends on the underlying filesystem on the
> buildhost. To get reproducible builds it is required to sort such list
> before using them.
> 
> Signed-off-by: Olaf Hering <olaf@aepfle.de>
> ---
>  git-gui/Makefile | 2 +-
>  1 file changed, 1 insertion(+), 1 deletion(-)
> 
> diff --git a/git-gui/Makefile b/git-gui/Makefile
> index cde8b2e..7564a18 100644
> --- a/git-gui/Makefile
> +++ b/git-gui/Makefile
> @@ -258,7 +258,7 @@ lib/tclIndex: $(ALL_LIBFILES) GIT-GUI-VARS
>  	 rm -f $@ ; \
>  	 echo '# Autogenerated by git-gui Makefile' >$@ && \
>  	 echo >>$@ && \
> -	 $(foreach p,$(PRELOAD_FILES) $(ALL_LIBFILES),echo '$(subst lib/,,$p)' >>$@ &&) \
> +	 $(foreach p,$(PRELOAD_FILES) $(sort $(ALL_LIBFILES)),echo '$(subst lib/,,$p)' >>$@ &&) \
>  	 echo >>$@ ; \
>  	fi
>  
