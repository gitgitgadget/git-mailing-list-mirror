From: "Greg A. Woods" <woods@planix.com>
Subject: odd "error: packfile foo.pack cannot be accessed" errors from "git svn fetch"
Date: Mon, 26 Apr 2010 18:06:56 -0400
Organization: Planix, Inc.
Message-ID: <m1O6WSB-000kn6C@most.weird.com>
Reply-To: The Git Mailing List <git@vger.kernel.org>
Mime-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: multipart/signed;
 boundary="pgp-sign-Multipart_Mon_Apr_26_18:06:56_2010-1"; micalg=pgp-sha1;
 protocol="application/pgp-signature"
Content-Transfer-Encoding: 7bit
To: The Git Mailing List <git@vger.kernel.org>
X-From: git-owner@vger.kernel.org Tue Apr 27 00:16:09 2010
connect(): No such file or directory
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@lo.gmane.org
Received: from vger.kernel.org ([209.132.180.67])
	by lo.gmane.org with esmtp (Exim 4.69)
	(envelope-from <git-owner@vger.kernel.org>)
	id 1O6Way-0006sa-VE
	for gcvg-git-2@lo.gmane.org; Tue, 27 Apr 2010 00:16:05 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1754837Ab0DZWP6 (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Mon, 26 Apr 2010 18:15:58 -0400
Received: from mail.robohack.planix.com ([204.92.254.2]:60083 "EHLO
	most.weird.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
	id S1754243Ab0DZWP4 (ORCPT <rfc822;git@vger.kernel.org>);
	Mon, 26 Apr 2010 18:15:56 -0400
X-Greylist: delayed 536 seconds by postgrey-1.27 at vger.kernel.org; Mon, 26 Apr 2010 18:15:56 EDT
Received: from once.weird.com
	([204.92.254.13] port=58855)
	by most.weird.com([204.92.254.2] port=25)
	via TCP with esmtp (3624 bytes)
	(sender: <woods@once.weird.com>)
	(ident <woods> using rfc1413)
	id <m1O6WSB-000kn6C@most.weird.com>
	for <git@vger.kernel.org>;
	Mon, 26 Apr 2010 18:06:59 -0400 (EDT)
	(Smail-3.2.0.122-Pre 2005-Nov-17 #1 built 2009-Feb-3)
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?ISO-8859-4?Q?Goj=F2?=) APEL/10.7 Emacs/22.3
 (i386--netbsdelf) MULE/5.0 (SAKAKI)
X-Face: ;j3Eth2XV8h1Yfu<eXd9JL+"t;iT8?{X]Fjm`Qb]>*uL{<:dQ$#E[DB0gemGZJ"J#4fH*][
 lz;@-iwMv_u\6uIEKR0KY"=MzoQH#CrqBN`nG_5B@rrM8,f~Gr&h5a\=<t0loVf0$}bP=]i3OMh"n_
 _@m4/,~2`V=(-9LyW.)'`@E_fE^<4y7)BIe`A''/j-Y#gDNZERh%CCij'q-NA4F<|yjznEhd7=l^xH
 2.qD3o0IanGHERTW+z$G
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/145859>

--pgp-sign-Multipart_Mon_Apr_26_18:06:56_2010-1
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable

I've been trying to import the FreeBSD SVN repository (which I have
copied to a local directory using "svnsync").  It seems to be going
fairly well, though I've had to interrupt and restart the "git svn fetch
--all" command a couple of times due to necessary reboots.

However I noticed errors similar to the following today as it was
running, particularly between these revision lines:

r158178 =3D dfd866111e2d8b27056d445ce1109ca3301f7dda (refs/remotes/svn/stab=
le/6)
	A	usr.bin/lastcomm/lastcomm.c
	A	usr.bin/lastcomm/pathnames.h
[[....]]
error: packfile ./objects/pack/pack-a65415929f8bae9dacf4e81a3d9201135915c98=
4.pack cannot be accessed
[[....]]
	A	sys/sys/msg.h
	A	sys/sys/socket.h
r158179 =3D db56f27606a021514e1f8ec483ce6b7abd4d6966 (refs/remotes/svn/rele=
ng/6.1)

(this is from git version 1.7.0.6, running on Mac OS X 10.6.3 with all
files on an HFS+ case-sensitive journaled filesystem)

Several such lines were printed, all while adding the same revision,
with several different pack files mentioned.

Was it my mistake to interrupt the fetch?  (I assumed interrupts would
be cleanly handled -- they really should be, nay must be if git-svn is
to be robust enough for real-world uses!  I don't do perl, though I had
a peek and did see at least some mention of SIGINT....)

Is there any way to check the integrity of the result other than by
manually checking out various releases from each SVN and Git and
comparing them?

I could start it over again in a hopefully more stable environment if
really necessary, but it's already run for over two days now, and
already this isn't my first attempt (getting the branches config close
to correct has been far more difficult than it should ever have been --
this info is already in SVN!  hopefully the GSoC native SVN support will
help in this regard too!)

--=20
						Greg A. Woods
						Planix, Inc.

<woods@planix.com>       +1 416 218 0099        http://www.planix.com/

--pgp-sign-Multipart_Mon_Apr_26_18:06:56_2010-1
Content-Type: application/pgp-signature
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (NetBSD)

iD8DBQBL1g6AZn1xt3i/9H8RAizuAJ9pb3bVQMr315ATA+inCGrbSFB4ZgCfdEgx
9XMby86M0sgnEpM8MArg1DQ=
=F5Gp
-----END PGP SIGNATURE-----

--pgp-sign-Multipart_Mon_Apr_26_18:06:56_2010-1--
