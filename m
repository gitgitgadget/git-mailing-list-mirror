From: Stefano Lattarini <stefano.lattarini@gmail.com>
Subject: [PATCH 1/3] configure: move definitions of private m4 macros before AC_INIT invocation
Date: Mon, 26 Mar 2012 18:42:24 +0200
Message-ID: <c11452d709e597f2f73ac7d5e1eb154f4f2420f3.1332779755.git.stefano.lattarini@gmail.com>
References: <cover.1331333479.git.stefano.lattarini@gmail.com>
Cc: Stefano Lattarini <stefano.lattarini@gmail.com>
To: git@vger.kernel.org
X-From: git-owner@vger.kernel.org Mon Mar 26 18:42:54 2012
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@plane.gmane.org
Received: from vger.kernel.org ([209.132.180.67])
	by plane.gmane.org with esmtp (Exim 4.69)
	(envelope-from <git-owner@vger.kernel.org>)
	id 1SCD0L-0000uJ-HT
	for gcvg-git-2@plane.gmane.org; Mon, 26 Mar 2012 18:42:49 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S932915Ab2CZQmn (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Mon, 26 Mar 2012 12:42:43 -0400
Received: from mail-ey0-f174.google.com ([209.85.215.174]:45699 "EHLO
	mail-ey0-f174.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S932900Ab2CZQml (ORCPT <rfc822;git@vger.kernel.org>);
	Mon, 26 Mar 2012 12:42:41 -0400
Received: by eaaq12 with SMTP id q12so1592623eaa.19
        for <git@vger.kernel.org>; Mon, 26 Mar 2012 09:42:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=from:to:cc:subject:date:message-id:x-mailer:in-reply-to:references
         :in-reply-to:references;
        bh=PSv7Ehsnk0umGQa6Jb2asvSZF8vnPqZpzibsac+p5qE=;
        b=zoMCGOXKu2Kje3/D4f19VRX2FgWOe+ZU+25l3TtK4enEVSlaED0auPgJUxaHO0tF20
         A+IYhQJLkgFcm5bt3QroNt/6Z250pP5/i+S1HG1KlALH9XO5Bry2aLLrXOPZVtwScmn9
         BQ6m98TZA8FysjFGz6MykdBc4b1Zs3BYIJaSb1pAE1uZsQURzWvzPlKBuczdE6J4emdD
         k/MeaQKfjSmVX1Wo8vL7QTQTaFBi/6g3oCm1IgBolAIsUmDe8pTDOHG9cHQ/TktNf6SJ
         34azupe1+vlzdtjCFtUqcG5iHVGE3Fu9Zj1YbmpG/Fmo+hQ0XysbhflZ/lbu79O4p1TR
         Kmhg==
Received: by 10.14.29.65 with SMTP id h41mr3003247eea.71.1332780160178;
        Mon, 26 Mar 2012 09:42:40 -0700 (PDT)
Received: from localhost.localdomain (host210-95-dynamic.0-87-r.retail.telecomitalia.it. [87.0.95.210])
        by mx.google.com with ESMTPS id p57sm60152731eei.8.2012.03.26.09.42.38
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 26 Mar 2012 09:42:39 -0700 (PDT)
X-Mailer: git-send-email 1.7.9
In-Reply-To: <cover.1331333479.git.stefano.lattarini@gmail.com>
In-Reply-To: <cover.1332779754.git.stefano.lattarini@gmail.com>
References: <cover.1332779754.git.stefano.lattarini@gmail.com>
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/193928>

This way, no spurious comments nor whitespace will be propagated in the
generated configure script.

This change is a pure code movement (plus addition of a comment line).

Signed-off-by: Stefano Lattarini <stefano.lattarini@gmail.com>
---
 configure.ac |   25 +++++++++++++------------
 1 files changed, 13 insertions(+), 12 deletions(-)

diff --git a/configure.ac b/configure.ac
index 72f7958..0743a70 100644
--- a/configure.ac
+++ b/configure.ac
@@ -1,18 +1,6 @@
 #                                               -*- Autoconf -*-
 # Process this file with autoconf to produce a configure script.
 
-AC_PREREQ(2.59)
-AC_INIT([git], [@@GIT_VERSION@@], [git@vger.kernel.org])
-
-AC_CONFIG_SRCDIR([git.c])
-
-config_file=config.mak.autogen
-config_append=config.mak.append
-config_in=config.mak.in
-
-echo "# ${config_append}.  Generated by configure." > "${config_append}"
-
-
 ## Definitions of macros
 # GIT_CONF_APPEND_LINE(LINE)
 # --------------------------
@@ -137,6 +125,19 @@ if test -n "$1"; then
 fi
 ])
 
+## Configure body starts here.
+
+AC_PREREQ(2.59)
+AC_INIT([git], [@@GIT_VERSION@@], [git@vger.kernel.org])
+
+AC_CONFIG_SRCDIR([git.c])
+
+config_file=config.mak.autogen
+config_append=config.mak.append
+config_in=config.mak.in
+
+echo "# ${config_append}.  Generated by configure." > "${config_append}"
+
 # Directories holding "saner" versions of common or POSIX binaries.
 AC_ARG_WITH([sane-tool-path],
   [AS_HELP_STRING(
-- 
1.7.9
