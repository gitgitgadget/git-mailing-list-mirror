From: Junichi Uekawa <dancer@netfort.gr.jp>
Subject: Re: [PATCH] cogito: use locale date_fmt in obtaining default date format
Date: Thu, 13 Oct 2005 00:26:44 +0900
Message-ID: <8764s2hi2z.dancerj%dancer@netfort.gr.jp>
References: <878xwyomth.dancerj%dancer@netfort.gr.jp>
Mime-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Cc: git@vger.kernel.org
X-From: git-owner@vger.kernel.org Wed Oct 12 17:27:10 2005
Return-path: <git-owner@vger.kernel.org>
Received: from vger.kernel.org ([209.132.176.167])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1EPiUu-00011i-NJ
	for gcvg-git@gmane.org; Wed, 12 Oct 2005 17:26:29 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S964812AbVJLP00 (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Wed, 12 Oct 2005 11:26:26 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S964815AbVJLP00
	(ORCPT <rfc822;git-outgoing>); Wed, 12 Oct 2005 11:26:26 -0400
Received: from 68.105.138.210.bn.2iij.net ([210.138.105.68]:60424 "HELO
	viper2.netfort.gr.jp") by vger.kernel.org with SMTP id S964812AbVJLP0Z
	(ORCPT <rfc822;git@vger.kernel.org>);
	Wed, 12 Oct 2005 11:26:25 -0400
Received: (qmail 30864 invoked from network); 12 Oct 2005 15:26:24 -0000
Received: from unknown (HELO dancer64.netfort.gr.jp.netfort.gr.jp) (127.0.0.1)
  by viper2.netfort.gr.jp with SMTP; 12 Oct 2005 15:26:24 -0000
To: Petr Baudis <pasky@suse.cz>
In-Reply-To: <878xwyomth.dancerj%dancer@netfort.gr.jp>
User-Agent: Wanderlust/2.14.0 (Africa) SEMI/1.14.6 (Maruoka) FLIM/1.14.7
 (=?ISO-8859-4?Q?Sanj=F2?=) APEL/10.6 Emacs/21.4 (x86_64-pc-linux-gnu)
 MULE/5.0 (SAKAKI)
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/10037>

Hi,

>  	if [ "$has_gnudate" ]; then
>  		LANG=C $has_gnudate -ud "1970-01-01 UTC + $secs sec" "$format"
>  	else

Hmm... I just noticed that you're setting LANG=C here;
which is not enough since LC_ALL will override the value.

I'm not quite sure of the original intention;
I've checked the users


cg-log:
	For local display; it should be okay to show the date in 
	localized format.

cg-mkpatch:
	It might be intrusive to have a localized date in a patch;
	so having a localized output of showdate is mostly undesirable,
	but it will depend on the project you work on.
	(The user can always unset locale)


regards,
	junichi
