From: Carl Worth <cworth@cworth.org>
Subject: Re: [PATCH] gitweb: use action dispatcher for non-project actions, too.
Date: Fri, 18 Aug 2006 07:03:29 -0700
Message-ID: <87k656rvim.wl%cworth@cworth.org>
References: <11557673213372-git-send-email-tali@admingilde.org>
	<11557673212235-git-send-email-tali@admingilde.org>
	<1155767325181-git-send-email-tali@admingilde.org>
	<11557673263081-git-send-email-tali@admingilde.org>
	<11557673262714-git-send-email-tali@admingilde.org>
	<11557673281583-git-send-email-tali@admingilde.org>
	<7vk65815h1.fsf@assigned-by-dhcp.cox.net>
	<87y7tnxv9g.wl%cworth@cworth.org>
	<20060818131656.GR13776@pasky.or.cz>
Mime-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: multipart/signed;
 boundary="pgp-sign-Multipart_Fri_Aug_18_07:03:29_2006-1"; micalg=pgp-sha1;
 protocol="application/pgp-signature"
Content-Transfer-Encoding: 7bit
Cc: Junio C Hamano <junkio@cox.net>,
	Martin Waitz <tali@admingilde.org>, git@vger.kernel.org
X-From: git-owner@vger.kernel.org Fri Aug 18 16:05:38 2006
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git@gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1GE4wu-0007Nj-RL
	for gcvg-git@gmane.org; Fri, 18 Aug 2006 16:03:49 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1030409AbWHRODo (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Fri, 18 Aug 2006 10:03:44 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1030410AbWHRODo
	(ORCPT <rfc822;git-outgoing>); Fri, 18 Aug 2006 10:03:44 -0400
Received: from cworth.org ([217.160.249.188]:53426 "EHLO theworths.org")
	by vger.kernel.org with ESMTP id S1030409AbWHRODn (ORCPT
	<rfc822;git@vger.kernel.org>); Fri, 18 Aug 2006 10:03:43 -0400
Received: (qmail 6704 invoked from network); 18 Aug 2006 10:03:42 -0400
Received: from localhost (HELO raht.cworth.org) (127.0.0.1)
  by localhost with SMTP; 18 Aug 2006 10:03:42 -0400
To: Petr Baudis <pasky@suse.cz>
In-Reply-To: <20060818131656.GR13776@pasky.or.cz>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.4 Mule/5.0 (SAKAKI)
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/25666>

--pgp-sign-Multipart_Fri_Aug_18_07:03:29_2006-1
Content-Type: text/plain; charset=US-ASCII

On Fri, 18 Aug 2006 15:16:57 +0200, Petr Baudis wrote:
>
> Dear diary, on Thu, Aug 17, 2006 at 05:00:11PM CEST, I got a letter
> where Carl Worth <cworth@cworth.org> said that...
> > PS. A secondary problem is the difficulty of publishing a new
> > branch. But if I can get the 3 URLs above down to 1, then I could
> > probably live with the user having to figure out how to combine the
> > repository URL with the branch name, (in different ways depending on
> > what the user is doing).
>
> Could you be more specific here, please? Is it just that Git won't
> automagically pick up new branches published on the server?

The best I've been able to come up with is:

	See my new branch <branch> at <URL>

Then it's up to the user to do one of the following (depending on what
they want):

1. For gitweb, either:

  a. Browse to <URL> and manually find <branch> in the list (ugh!)

  b. Manually construct a branch-specific URL: <URL>;h=<branch>

2. For git fetch/clone:

  Construct a command line looking something like this:

	git fetch <URL> <branch>:tracking-branch

  and optionally do some manual editing of a config file if they want
  to easily get at this branch again in the future.

And that assumes I can give out a single <URL> in the first place, of
course.

Beyond that, here are some of the things I would like:

* A single thingy I could publish for <URL> and <branch>. Ideally this
  would have no whitespace in it and would be directly
  cut-and-paste-able for use in either gitweb or the git command-line.

* A mechanism for not requiring me to invent tracking-branch names.  I
  end up manually doing a scheme with short prefixes for any given
  repository. It would be nice if I could configure that (in
  .git/remotes/<something> say) once so that any new branch I pulled
  would get its properly named tracking branch. And git could find the
  right remotes file by matching up the URL.

* An easy way, (maybe a one-letter command-line option), for stashing
  a branch I'm fetching off into .git/remotes/<something> where again,
  it would find the right file by matching the URL. This option might
  also let me/help me name <something> if this is the first time I'm
  fetching from a particular URL.

-Carl

--pgp-sign-Multipart_Fri_Aug_18_07:03:29_2006-1
Content-Type: application/pgp-signature
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)

iD8DBQBE5cix6JDdNq8qSWgRAm+iAKCjMEfX7DmGrSTxQffcJaixp4PSKQCfXC2O
Rr1irB0lWnTlpmZ3D9WVaSM=
=9bmJ
-----END PGP SIGNATURE-----

--pgp-sign-Multipart_Fri_Aug_18_07:03:29_2006-1--
