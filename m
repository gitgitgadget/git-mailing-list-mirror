From: Jeff King <peff@peff.net>
Subject: Re: [PATCH] Add commit.infodisplay option to give message editor
 empty file
Date: Sun, 6 Dec 2009 08:12:18 -0500
Message-ID: <20091206131217.GA12851@sigill.intra.peff.net>
References: <1259967879-65517-1-git-send-email-jh@jameshoward.us>
 <7vpr6t6fnz.fsf@alter.siamese.dyndns.org>
 <20091205154753.GA3717@thermopylae.local>
 <20091205162827.GA9584@sigill.intra.peff.net>
 <20091205230903.GA3816@thermopylae.local>
 <20091206042206.GC23983@coredump.intra.peff.net>
 <7v7ht0jzta.fsf@alter.siamese.dyndns.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8
Cc: "James P. Howard, II" <jh@jameshoward.us>, git@vger.kernel.org
To: Junio C Hamano <gitster@pobox.com>
X-From: git-owner@vger.kernel.org Sun Dec 06 14:12:26 2009
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@lo.gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1NHGuX-0005yU-SV
	for gcvg-git-2@lo.gmane.org; Sun, 06 Dec 2009 14:12:26 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S932462AbZLFNMP (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Sun, 6 Dec 2009 08:12:15 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S932392AbZLFNMO
	(ORCPT <rfc822;git-outgoing>); Sun, 6 Dec 2009 08:12:14 -0500
Received: from peff.net ([208.65.91.99]:52450 "EHLO peff.net"
	rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
	id S932315AbZLFNMN (ORCPT <rfc822;git@vger.kernel.org>);
	Sun, 6 Dec 2009 08:12:13 -0500
Received: (qmail 30098 invoked by uid 107); 6 Dec 2009 13:16:49 -0000
Received: from sigill.intra.peff.net (HELO sigill.intra.peff.net) (10.0.0.7)
  (smtp-auth username relayok, mechanism cram-md5)
  by peff.net (qpsmtpd/0.40) with ESMTPA; Sun, 06 Dec 2009 08:16:49 -0500
Received: by sigill.intra.peff.net (sSMTP sendmail emulation); Sun, 06 Dec 2009 08:12:18 -0500
Content-Disposition: inline
In-Reply-To: <7v7ht0jzta.fsf@alter.siamese.dyndns.org>
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/134659>

On Sun, Dec 06, 2009 at 12:01:53AM -0800, Junio C Hamano wrote:

> Jeff King <peff@peff.net> writes:
> 
> > I would be tempted to call it "--no-template", but I think that is too
> > confusing. The "--template" option is not really about the git-generated
> > template, but about a user-defined template that goes on top of the
> > git-generated one (I would have expected --template=/dev/null to do what
> > you want, too, but it retains the git template).
> >
> > Probably "--no-status" would be a good name, as the generated template
> > is the format generated by "git status".
> 
> I wonder which part is the most expensive in generating the status
> output.  Perhaps -suno is sufficient?

Speaking from my experience, it is doing break and rename detection on
large files, which there is currently no way to turn off (I hacked
around it with "$EDITOR msg && git commit --quiet -F msg").

Keep in mind this is one of my gigantic photo repositories, and the
commit in question made a minor change to almost 3G worth of files. So
it is not the end of the world for me to use the hack above on those
rare occasions. But since James wants it for other reasons, and it
should be a trivial patch, I think it would be nice for commit to
support it natively.

It would also make sense to me for "--quiet" to suppress the template,
but that is a behavior change that I suppose some people might not like.

-Peff
