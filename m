From: Carl Worth <cworth@cworth.org>
Subject: Re: [PATCH] HEAD, ORIG_HEAD and FETCH_HEAD are really special.
Date: Fri, 07 Sep 2007 14:53:23 -0700
Message-ID: <87r6lab0rw.wl%cworth@cworth.org>
References: <1189115308.30308.9.camel@koto.keithp.com>
	<7vsl5r8jer.fsf@gitster.siamese.dyndns.org>
	<1189133898.30308.58.camel@koto.keithp.com>
	<7vd4wu67qs.fsf_-_@gitster.siamese.dyndns.org>
	<1189181313.30308.97.camel@koto.keithp.com>
	<alpine.LFD.0.9999.0709071222270.21186@xanadu.home>
	<7vejha43oh.fsf@gitster.siamese.dyndns.org>
Mime-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: multipart/signed;
 boundary="pgp-sign-Multipart_Fri_Sep__7_14:53:15_2007-1"; micalg=pgp-sha1;
 protocol="application/pgp-signature"
Content-Transfer-Encoding: 7bit
Cc: Nicolas Pitre <nico@cam.org>, Keith Packard <keithp@keithp.com>,
	Git Mailing List <git@vger.kernel.org>
To: Junio C Hamano <gitster@pobox.com>
X-From: git-owner@vger.kernel.org Sat Sep 08 00:01:21 2007
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git@gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1ITltB-0004dL-38
	for gcvg-git@gmane.org; Sat, 08 Sep 2007 00:01:21 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1758370AbXIGWBQ (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Fri, 7 Sep 2007 18:01:16 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1758335AbXIGWBQ
	(ORCPT <rfc822;git-outgoing>); Fri, 7 Sep 2007 18:01:16 -0400
Received: from olra.theworths.org ([82.165.184.25]:64444 "EHLO
	olra.theworths.org" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1758204AbXIGWBP (ORCPT <rfc822;git@vger.kernel.org>);
	Fri, 7 Sep 2007 18:01:15 -0400
Received: from localhost (localhost [127.0.0.1])
	by olra.theworths.org (Postfix) with ESMTP id E9BA1431FA5;
	Fri,  7 Sep 2007 15:01:14 -0700 (PDT)
X-Virus-Scanned: Debian amavisd-new at olra.theworths.org
Received: from olra.theworths.org ([127.0.0.1])
	by localhost (olra.theworths.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DO5GRV7Q2rdZ; Fri,  7 Sep 2007 15:01:14 -0700 (PDT)
Received: from raht.cworth.org (localhost [127.0.0.1])
	by olra.theworths.org (Postfix) with ESMTP id CA22F431FA4;
	Fri,  7 Sep 2007 15:01:13 -0700 (PDT)
In-Reply-To: <7vejha43oh.fsf@gitster.siamese.dyndns.org>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.4 Mule/5.0 (SAKAKI)
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/58082>

--pgp-sign-Multipart_Fri_Sep__7_14:53:15_2007-1
Content-Type: text/plain; charset=US-ASCII

On Fri, 07 Sep 2007 13:32:30 -0700, Junio C Hamano wrote:
> So I am all for making an ambiguous refname an error in 1.5.4.

If you do, then please also make it an error to create an ambiguous
refname as well.

For example, look at how late the warning comes out in this case, and
how changing it to an error at that point would not help anything:

	$ git branch tmp
	$ ...
	$ git tag tmp	# No warning here!
	$ git show tmp
	warning: refname 'tmp' is ambiguous.

-Carl

--pgp-sign-Multipart_Fri_Sep__7_14:53:15_2007-1
Content-Type: application/pgp-signature
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQBG4chS6JDdNq8qSWgRAmGaAJ9mHjEdXlFnMp1Z+uzMjfoneNCFRACeKNnt
OojvEiYCN71A5XxcqhM7e3Y=
=SCzz
-----END PGP SIGNATURE-----

--pgp-sign-Multipart_Fri_Sep__7_14:53:15_2007-1--
