From: "H.Merijn Brand" <h.m.brand@xs4all.nl>
Subject: Re: Interested in helping open source friends on HP-UX?
Date: Tue, 3 Mar 2015 23:25:05 +0100
Message-ID: <20150303232505.296fe169@pc09.procura.nl>
References: <xmqq4mt2fx2m.fsf@gitster.dls.corp.google.com>
	<20150218170007.784be6aa@pc09.procura.nl>
	<54E4CFDC.40401@drmicha.warpmail.net>
	<20150218182547.GA6346@peff.net>
	<xmqqpp972h1n.fsf@gitster.dls.corp.google.com>
	<20150218185734.GB7257@peff.net>
	<54E5BBDD.7040100@drmicha.warpmail.net>
	<20150219121438.59050ce8@pc09.procura.nl>
	<54E5C6E2.9040101@drmicha.warpmail.net>
	<20150219125433.GA1591@peff.net>
	<54E5E347.4070401@drmicha.warpmail.net>
	<20150219195622.2828cc6a@pc09.procura.nl>
	<54F5CB74.2090403@drmicha.warpmail.net>
	<20150303163042.655fe00c@pc09.procura.nl>
	<54F5DBE1.6080004@drmicha.warpmail.net>
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
 boundary="Sig_/riIoDFZ_cKRuqpG0uF6rEuZ"; protocol="application/pgp-signature"
Cc: Jeff King <peff@peff.net>, Junio C Hamano <gitster@pobox.com>,
	git@vger.kernel.org
To: Michael J Gruber <git@drmicha.warpmail.net>
X-From: git-owner@vger.kernel.org Tue Mar 03 23:25:27 2015
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git-2@plane.gmane.org
Received: from vger.kernel.org ([209.132.180.67])
	by plane.gmane.org with esmtp (Exim 4.69)
	(envelope-from <git-owner@vger.kernel.org>)
	id 1YSvFk-0000Sh-4V
	for gcvg-git-2@plane.gmane.org; Tue, 03 Mar 2015 23:25:24 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1756649AbbCCWZS (ORCPT <rfc822;gcvg-git-2@m.gmane.org>);
	Tue, 3 Mar 2015 17:25:18 -0500
Received: from lb3-smtp-cloud6.xs4all.net ([194.109.24.31]:51924 "EHLO
	lb3-smtp-cloud6.xs4all.net" rhost-flags-OK-OK-OK-OK)
	by vger.kernel.org with ESMTP id S1756008AbbCCWZR (ORCPT
	<rfc822;git@vger.kernel.org>); Tue, 3 Mar 2015 17:25:17 -0500
Received: from pc09.procura.nl ([82.95.216.30])
	by smtp-cloud6.xs4all.net with ESMTP
	id zARD1p00G0fvp4J01ARE99; Tue, 03 Mar 2015 23:25:15 +0100
In-Reply-To: <54F5DBE1.6080004@drmicha.warpmail.net>
X-Mailer: Claws Mail 3.11.1-80-g215172 (GTK+ 2.24.23; x86_64-suse-linux-gnu)
Face: iVBORw0KGgoAAAANSUhEUgAAADAAAAAwEAIAAACI8LKTAAAACXBIWXMAAABIAAAASABGyWs+AAAC
 JElEQVRo3u2aMY4CMQxFczZ6RItEzRm4DBINDbRUSPRInIRbsNK6+dJfezN4kokn48IaCSjysL8d
 e9Knoj2fr9f9/gllqQ6U9/vxWK3EdwdIEGjRIVCu18NhuxUfK46SH81+fzrdbuKPx/P5ctHQdAdI
 TKAgpvV6s9ntBEfXEYSGgMQzIHnuFBBjkshCNJ2KtJZ04hHNAugP8bZr3NIHhbcF0AKoK0CoaHXU
 LUWBIs1n+jV+Fl8CVqOApEXAwyMO/DSR4XVntoAYDR7eBjQupuYAYTMph8Rj21D4m7MChN02tpqs
 NSnb/KqU2oHCXu5xDCgflj/RAgBiKBIXnICzAsSjWBsTz5K4/HeXYvb8yK5lY3VGEwPi2aONKT+5
 AlcxrTPOwcTiraGRChgMEKJh0bVVifGVTq6qgBiNVl8QE29EsK6VE+YJAOG2wz5AvsqUS6uqgHCA
 n4NGvBYpnJ64Jgg27sCtxtBk1CJIA4S/GhdWKh07QxUB48jWGhZ4jKamRRr/T8/M0AaEyctry6YB
 4dTGj9iWZNs3DahES5kPCJOu0RQbF/fQOBprsB9gaO9JtPDzII9U5ySXX7AnuIt91y54AAW7rPpT
 LCe5gt3F+CLqr2UarGB3MXvMylWGq4+9RCx3TW1oJq1t3HPQlFs6N1fFNEB4s8dn7Ne7ACSm7TPQ
 I5quAWmw6qBpulHM33B0Csge4Nd8JTTYG2b1XyRe3lH8x34ABJ6aePuQ2N4AAAAASUVORK5CYII=
Sender: git-owner@vger.kernel.org
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/264699>

--Sig_/riIoDFZ_cKRuqpG0uF6rEuZ
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable

On Tue, 03 Mar 2015 17:05:53 +0100, Michael J Gruber
<git@drmicha.warpmail.net> wrote:

> H.Merijn Brand venit, vidit, dixit 03.03.2015 16:30:
> > On Tue, 03 Mar 2015 15:55:48 +0100, Michael J Gruber
> > <git@drmicha.warpmail.net> wrote:
> >=20
> >> H.Merijn Brand venit, vidit, dixit 19.02.2015 19:56:
> >>> On Thu, 19 Feb 2015 14:21:11 +0100, Michael J Gruber
> >>> <git@drmicha.warpmail.net> wrote:
> >>>
> >>>> Jeff, you got it wrong. You should do the hard part and leave the ea=
sy
> >>>> part to us!
> >>>>
> >>>> Thanks anyways, I'll add this to my HP_UX branch.
> >>>
> >>> I did not mention this in earlier mails. When using the HP C-ANSI-C
> >>> compiler, MAX_INT is not set.
> >>>
> >>> I had to add
> >>> --8<---
> >>> #ifndef   SIZE_MAX
> >>> #  define SIZE_MAX              (18446744073709551615UL)
> >>> /* define SIZE_MAX              (4294967295U) */
> >>> #  endif
> >>> -->8---
> >>>
> >>> to these files
> >>>
> >>> sha1_file.c
> >>> utf8.c
> >>> walker.c
> >>> wrapper.c
> >>>
> >>> And yes, that could be dynamic and probably be in another header file
> >>>
> >>
> >> In compat/regex/regex_internal.h we have
> >>
> >> /* For loser systems without the definition.  */
> >> #ifndef SIZE_MAX
> >> # define SIZE_MAX ((size_t) -1)
> >> #endif
> >>
> >> Does this work in your environment?
> >=20
> > I think it does:
> >=20
> > make
> >     CC sha1_file.o
> >     CC utf8.o
> >     CC walker.o
> > "walker.c", line 119: warning #4232-D: conversion from "struct object *=
" to a
> >           more strictly aligned type "struct commit *" may cause misali=
gned
> >           access
> >                 if (process_commit(walker, (struct commit *)obj))
> >                                            ^
> >=20
> > "walker.c", line 124: warning #4232-D: conversion from "struct object *=
" to a
> >           more strictly aligned type "struct tree *" may cause misalign=
ed
> >           access
> >                 if (process_tree(walker, (struct tree *)obj))
> >                                          ^
> >=20
> > "walker.c", line 132: warning #4232-D: conversion from "struct object *=
" to a
> >           more strictly aligned type "struct tag *" may cause misaligne=
d access
> >                 if (process_tag(walker, (struct tag *)obj))
> >                                         ^
> >=20
> >     CC wrapper.o
> >     AR libgit.a
> >=20
> >=20
>=20
> Hmmh. Did you get these same warnings with the fix you had before? They
> don't make feel that confident...

Yes, these are unrelated to SIZE_MAX

> >> [Trying to not let this fall into oblivion...]
> >=20
> > Much appreciated!
> >=20
> >> Michael


--=20
H.Merijn Brand  http://tux.nl   Perl Monger  http://amsterdam.pm.org/
using perl5.00307 .. 5.21   porting perl5 on HP-UX, AIX, and openSUSE
http://mirrors.develooper.com/hpux/        http://www.test-smoke.org/
http://qa.perl.org   http://www.goldmark.org/jeff/stupid-disclaimers/

--Sig_/riIoDFZ_cKRuqpG0uF6rEuZ
Content-Type: application/pgp-signature
Content-Description: OpenPGP digital signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (GNU/Linux)

iQEcBAEBAgAGBQJU9jTJAAoJEAOhR6E+XcCYX0MH/j76w2Slka29zGwFvWQUYIlh
rehwjx2WB6Prmjykj5DOFyNi9bJ3HMpqD4T7gVYxN6w7bgiQX2kkLZprecnq7zTH
TP/KsFUtd5meDIT5nsfVC4fFVR8E7w9TONW8090pmBFHoH2lpmGPe88cn3MRJvIE
a5uVSGAZUhDs6U4OFC5l/jFQg9G9FJbqHfiGxIYarWbF9WyrZexcYONxQDhDryOF
gPzcB/ZDQpuxPjjKIXDQ7tcq4uFHL7Sb8SLBWxf0y2YTFfj5fTdO+oXt9roHKBD5
krmc4u2cYo3DUIkyNyNFNGD0PVsbuH9SjuZnStYxlYjmLOM0elXvw9Qz1SJ9jKQ=
=N6/Z
-----END PGP SIGNATURE-----

--Sig_/riIoDFZ_cKRuqpG0uF6rEuZ--
