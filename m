X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on dcvr.yhbt.net
X-Spam-Level: *
X-Spam-ASN: AS24867 82.211.80.0/20
X-Spam-Status: No, score=1.8 required=3.0 tests=AWL,BAYES_00,
	DKIM_ADSP_CUSTOM_MED,FREEMAIL_FORGED_FROMDOMAIN,FREEMAIL_FROM,
	HEADER_FROM_DIFFERENT_DOMAINS,LIST_MIRROR_RECEIVED,MSGID_FROM_MTA_HEADER
	shortcircuit=no autolearn=no autolearn_force=no version=3.4.0
Path: news.gmane.org!not-for-mail
From: Jakub Narebski <jnareb@gmail.com>
Newsgroups: gmane.comp.version-control.bazaar-ng.general,gmane.comp.version-control.git
Subject: Re: git and bzr
Date: Tue, 28 Nov 2006 18:29:04 +0100
Organization: At home
Message-ID: <ekhrhi$g6t$1@sea.gmane.org>
References: <45357CC3.4040507@utoronto.ca>	<a7e835d40610250308v5d577482m139742e7fe1db185@mail.gmail.com>	<87slhcz8zh.wl%cworth@cworth.org>	<a7e835d40610260152k658aeaf0hb900cb63870c04e4@mail.gmail.com>	<7vu01ro20b.fsf@assigned-by-dhcp.cox.net>	<a7e835d40610260257r5f05ea4gc934f1c1cc267977@mail.gmail.com>	<20061026101038.GA13310@coredump.intra.peff.net>	<877iyne4dm.fsf@alplog.fr>	<Pine.LNX.4.64.0610260753090.3962@g5.osdl.org>	<456B7C6A.80104@webdrake.net>	<845b6e870611280410j58bdcd99nc05d0f67489293e4@mail.gmail.com>	<ekhaeg$etk$1@sea.gmane.org>	<Pine.LNX.4.63.0611281433270.30004@wbgn013.biozentrum.uni-wuerzburg.de>
	<Pine.LNX.4.64.0611280754050.30076@woody.osdl.org>
	<456C6CBB.70702@utoronto.ca>
NNTP-Posting-Host: main.gmane.org
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7Bit
X-Trace: sea.gmane.org 1164734937 20226 80.91.229.2 (28 Nov 2006 17:28:57 GMT)
X-Complaints-To: usenet@sea.gmane.org
NNTP-Posting-Date: Tue, 28 Nov 2006 17:28:57 +0000 (UTC)
Cc: git@vger.kernel.org
Original-X-From: bazaar-ng-bounces@lists.canonical.com Tue Nov 28 18:28:56 2006
Return-path: <bazaar-ng-bounces@lists.canonical.com>
Envelope-to: gcvbg-bazaar-ng@m.gmane.org
Received: from esperanza.ubuntu.com ([82.211.81.173])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1Gp6ki-00073C-VP
	for gcvbg-bazaar-ng@m.gmane.org; Tue, 28 Nov 2006 18:28:17 +0100
Received: from localhost ([127.0.0.1] helo=esperanza.ubuntu.com)
	by esperanza.ubuntu.com with esmtp (Exim 4.60)
	(envelope-from <bazaar-ng-bounces@lists.canonical.com>)
	id 1Gp6kL-00005f-4M; Tue, 28 Nov 2006 17:27:53 +0000
Received: from main.gmane.org ([80.91.229.2] helo=ciao.gmane.org)
	by esperanza.ubuntu.com with esmtp (Exim 4.60)
	(envelope-from <gcvbg-bazaar-ng@m.gmane.org>) id 1Gp6kF-00005U-Ie
	for bazaar-ng@lists.canonical.com; Tue, 28 Nov 2006 17:27:47 +0000
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1Gp6k2-0006qy-Tp
	for bazaar-ng@lists.canonical.com; Tue, 28 Nov 2006 18:27:35 +0100
Received: from host-81-190-24-209.torun.mm.pl ([81.190.24.209])
	by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
	id 1AlnuQ-0007hv-00
	for <bazaar-ng@lists.canonical.com>; Tue, 28 Nov 2006 18:27:34 +0100
Received: from jnareb by host-81-190-24-209.torun.mm.pl with local (Gmexim 0.1
	(Debian)) id 1AlnuQ-0007hv-00
	for <bazaar-ng@lists.canonical.com>; Tue, 28 Nov 2006 18:27:34 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: bazaar-ng@lists.canonical.com
Original-Followup-To: gmane.comp.version-control.bazaar-ng.general
Original-Lines: 48
Original-X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: host-81-190-24-209.torun.mm.pl
Mail-Copies-To: jnareb@gmail.com
User-Agent: KNode/0.10.2
X-BeenThere: bazaar-ng@lists.canonical.com
X-Mailman-Version: 2.1.8
Precedence: list
List-Id: bazaar-ng discussion <bazaar-ng.lists.canonical.com>
List-Unsubscribe: <https://lists.ubuntu.com/mailman/listinfo/bazaar-ng>,
	<mailto:bazaar-ng-request@lists.canonical.com?subject=unsubscribe>
List-Archive: <https://lists.ubuntu.com/archives/bazaar-ng>
List-Post: <mailto:bazaar-ng@lists.canonical.com>
List-Help: <mailto:bazaar-ng-request@lists.canonical.com?subject=help>
List-Subscribe: <https://lists.ubuntu.com/mailman/listinfo/bazaar-ng>,
	<mailto:bazaar-ng-request@lists.canonical.com?subject=subscribe>
Original-Sender: bazaar-ng-bounces@lists.canonical.com
Errors-To: bazaar-ng-bounces@lists.canonical.com
Xref: news.gmane.org gmane.comp.version-control.bazaar-ng.general:19785 gmane.comp.version-control.git:32552
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/32552>
X-Mailing-List: git@vger.kernel.org

Aaron Bentley wrote:

> Linus Torvalds wrote:

>> So yes, "git blame" is a _hell_ of a lot more powerful than anybody elses 
>> "annotate", as far as I know. I literally suspect that nobody else comes 
>> even close.

Well without the content based detection of contents copying and moving
which git-blame wouldn't work as well as it work now.
 
> I notice that blame has an option to limit the annotation to recent
> history.  I can only assume that is for performance reasons.  bzr
> annotate doesn't need a feature like that, because annotations are
> explicit in bzr's storage format. 

But you don't have content movement tracking.

> 
>                                   I expect that even if we were to 
> extend annotate to track content across files, it would still be so fast
> that we wouldn't need it.

I think not.


The first example:

$ time git blame -C revision.c >/dev/null

real    0m7.577s
user    0m7.248s
sys     0m0.020s

while without content copying and moving detection we have

$ time git blame revision.c >/dev/null

real    0m2.108s
user    0m2.044s
sys     0m0.024s

(on 2000 BogoMIPS CPU).

