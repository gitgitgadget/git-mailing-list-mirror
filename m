From: Yasushi SHOJI <yashi@atmark-techno.com>
Subject: Re: [PATCH] git status: print files under untracked dir if -a is given
Date: Tue, 30 May 2006 21:55:16 +0900
Message-ID: <87r72bd64r.wl@mail2.atmark-techno.com>
References: <87slmrdhe6.wl@mail2.atmark-techno.com>
	<7vfyir26v4.fsf@assigned-by-dhcp.cox.net>
Mime-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Cc: git@vger.kernel.org
X-From: git-owner@vger.kernel.org Tue May 30 14:55:52 2006
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git@gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by ciao.gmane.org with esmtp (Exim 4.43)
	id 1Fl3kw-00036c-0t
	for gcvg-git@gmane.org; Tue, 30 May 2006 14:55:30 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1750749AbWE3MzV (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Tue, 30 May 2006 08:55:21 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1750816AbWE3MzV
	(ORCPT <rfc822;git-outgoing>); Tue, 30 May 2006 08:55:21 -0400
Received: from shop.atmark-techno.com ([210.191.215.173]:31410 "EHLO
	mail2.atmark-techno.com") by vger.kernel.org with ESMTP
	id S1750749AbWE3MzU (ORCPT <rfc822;git@vger.kernel.org>);
	Tue, 30 May 2006 08:55:20 -0400
Received: from smtp.local-network (dns1.atmark-techno.com [210.191.215.170])
	by mail2.atmark-techno.com (Postfix) with ESMTP id 9E85B27BBB;
	Tue, 30 May 2006 21:55:17 +0900 (JST)
Received: from localhost.atmark-techno.com (unknown [192.168.10.81])
	by smtp.local-network (Postfix) with ESMTP id 0F0F4B61F;
	Tue, 30 May 2006 22:03:26 +0900 (JST)
To: Junio C Hamano <junkio@cox.net>
In-Reply-To: <7vfyir26v4.fsf@assigned-by-dhcp.cox.net>
User-Agent: Wanderlust/2.14.0
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/21030>

Hi Junio,

At Tue, 30 May 2006 02:34:55 -0700,
Junio C Hamano wrote:
> 
> Yasushi SHOJI <yashi@atmark-techno.com> writes:
> 
> > git status: print files under untracked dir if -a is given
> >
> > git status (git-commit.sh) currently doesn't show files under
> > untracked directory.  this is inconvenient when adding many files
> > under new directory.
> >
> > this patch change its behavior to show files under untracked directory
> > if option --all is given.
> >
> > Signed-off-by: Yasushi SHOJI <yashi@atmark-techno.com>
> 
> I do not quite understand your rationale behind linking -a and
> "show untracked" behaviour.  In many cases, after modifying
> multiple files "commit -a" is the preferred way to make commits
> for people who keep their tree clean (meaning, they do not leave
> unrelated changes to their working tree files), and I suspect
> your change would clutter their commit log buffer with unrelated
> files they did not ask to see.

I assumed "--all" to mean "every single file under a working dir
except ignored". so I thought users of "commit -a" wouldn't mind to
see files under untracked dir. 

but I was wrong. man page clearly states that "... new files you have
not told git about are not affected."

# I admit I haven't used -a with commit because of my
# misunderstanding. it's nice to know the option is much safer than I
# expected.

> At least this would make things somewhat unpleasant for me to
> use, since I do "commit -a" often and I have my random notes
> files under ./+trash subdirectory of the main project (yes, I
> know I could add /+trash to .gitignore).

I wasn't expecting that usage.

> We have something different but perhaps related by Matthias
> Lederhofer to add "git status --untracked" since you did this
> patch.
> 
>         commit 443f8338b9e248353a7095a1096684f1ed106c66
>         Author: Matthias Lederhofer <matled@gmx.net>
>         Date:   Mon May 22 23:02:06 2006 +0200
> 
> Does it solve your problem?

yes, it perfectly does.

thanks,
--
       yashi
