From: Carl Worth <cworth@cworth.org>
Subject: Re: Difficulties in advertising a new branch to git newbies
Date: Mon, 05 Feb 2007 21:51:19 -0800
Message-ID: <87y7nbdeaw.wl%cworth@cworth.org>
References: <87odognuhl.wl%cworth@cworth.org>
Mime-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: multipart/signed;
 boundary="pgp-sign-Multipart_Mon_Feb__5_21:51:19_2007-1"; micalg=pgp-sha1;
 protocol="application/pgp-signature"
Content-Transfer-Encoding: 7bit
To: git@vger.kernel.org
X-From: git-owner@vger.kernel.org Tue Feb 06 06:51:27 2007
Return-path: <git-owner@vger.kernel.org>
Envelope-to: gcvg-git@gmane.org
Received: from vger.kernel.org ([209.132.176.167])
	by lo.gmane.org with esmtp (Exim 4.50)
	id 1HEJEk-0002DA-Kv
	for gcvg-git@gmane.org; Tue, 06 Feb 2007 06:51:26 +0100
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S965276AbXBFFvV (ORCPT <rfc822;gcvg-git@m.gmane.org>);
	Tue, 6 Feb 2007 00:51:21 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S965305AbXBFFvV
	(ORCPT <rfc822;git-outgoing>); Tue, 6 Feb 2007 00:51:21 -0500
Received: from cworth.org ([217.160.249.188]:39846 "EHLO theworths.org"
	rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
	id S965276AbXBFFvV (ORCPT <rfc822;git@vger.kernel.org>);
	Tue, 6 Feb 2007 00:51:21 -0500
Received: (qmail 1683 invoked from network); 6 Feb 2007 00:51:19 -0500
Received: from localhost (HELO raht.cworth.org) (127.0.0.1)
  by localhost with SMTP; 6 Feb 2007 00:51:19 -0500
In-Reply-To: <87odognuhl.wl%cworth@cworth.org>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.4 Mule/5.0 (SAKAKI)
Sender: git-owner@vger.kernel.org
Precedence: bulk
X-Mailing-List: git@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/38810>

--pgp-sign-Multipart_Mon_Feb__5_21:51:19_2007-1
Content-Type: text/plain; charset=US-ASCII

On Tue, 30 Jan 2007 12:13:26 -0800, Carl Worth wrote:
> I'm finding that the instructions I'm having to write are much more
> complicated than I would like them to be. And some of this is due to
> incompatibility between git 1.5 and previous versions.

When I first brought up this thread we had lots of good discussion
about detached head that led to improved (or eliminated) warning
messages, and some good motivation for HEAD reflog.

Meanwhile, there's still a piece of the original problem that was not
addressed:

> 		git checkout -b build origin/proposed-fix
>
> I really like most of what separate-remotes does. But I don't like
> that branch names no longer resolve the same way they used to. Could
> we fix git to resolve "branch" as "remotes/*/branch" if unique? That
> would allow the old instructions and old habits to continue to work,
> (making the change to separate-remotes much more compatible).

Is there any feedback on the above? I just ran into this problem again
tonight, giving out instructions of "git checkout -b build
proposed-fix" and then bracing myself to have the user complain about
an error of:

	git checkout: updating paths is incompatible with switching branches/forcing
	Did you intend to checkout 'proposed-fix' which can not be resolved as commit?

To which I'd have to respond, "Oh, you're using a newer git. In your
case use 'git checkout -b build origin/proposed-fix'".

So, could we fix this so that a remote branch name will resolve
without the "origin/" prefix if it is not ambiguous?

I can imagine the resolution rules are already fairly complicated, (I
don't even know what they all are already). But when there is no
ambiguity, and when the behavior would be backwards compatible to git
before separate-remotes, is there any reason this would be a bad idea?

Thanks,

-Carl

--pgp-sign-Multipart_Mon_Feb__5_21:51:19_2007-1
Content-Type: application/pgp-signature
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.5 (GNU/Linux)

iD8DBQBFyBdX6JDdNq8qSWgRAl6SAKCpO2p0V6V4dvnW/N7kDBgW0v2guQCfWtMY
rDw22XXuEPLRvGS/a2vBMrU=
=K4tn
-----END PGP SIGNATURE-----

--pgp-sign-Multipart_Mon_Feb__5_21:51:19_2007-1--
