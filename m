From: Takashi Iwai <tiwai@suse.de>
Subject: Re: [GIT PULL] sound fixes for 3.6-rc6
Date: Thu, 13 Sep 2012 17:26:26 +0200
Message-ID: <s5h7gry2bbx.wl%tiwai@suse.de>
References: <s5h392m1728.wl%tiwai@suse.de>
	<CA+55aFyo6do-dZiZMiwZkN1Ko+W58+4-zkbfJnpQR+ufw=+8ig@mail.gmail.com>
	<s5hzk4uyvsr.wl%tiwai@suse.de>
	<s5hvcfiyum4.wl%tiwai@suse.de>
	<20120913130344.GC4287@sigill.intra.peff.net>
	<s5hligeyrz8.wl%tiwai@suse.de>
	<7vhar29cq4.fsf@alter.siamese.dyndns.org>
Mime-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Cc: Jeff King <peff@peff.net>,
	Linus Torvalds <torvalds@linux-foundation.org>,
	linux-kernel@vger.kernel.org,
	Git Mailing List <git@vger.kernel.org>
To: Junio C Hamano <gitster@pobox.com>
X-From: linux-kernel-owner@vger.kernel.org Thu Sep 13 17:26:49 2012
Return-path: <linux-kernel-owner@vger.kernel.org>
Envelope-to: glk-linux-kernel-3@plane.gmane.org
Received: from vger.kernel.org ([209.132.180.67])
	by plane.gmane.org with esmtp (Exim 4.69)
	(envelope-from <linux-kernel-owner@vger.kernel.org>)
	id 1TCBJX-00046c-J6
	for glk-linux-kernel-3@plane.gmane.org; Thu, 13 Sep 2012 17:26:47 +0200
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1758165Ab2IMP0c (ORCPT <rfc822;glk-linux-kernel-3@m.gmane.org>);
	Thu, 13 Sep 2012 11:26:32 -0400
Received: from cantor2.suse.de ([195.135.220.15]:56506 "EHLO mx2.suse.de"
	rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
	id S1754433Ab2IMP02 (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Thu, 13 Sep 2012 11:26:28 -0400
Received: from relay2.suse.de (unknown [195.135.220.254])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mx2.suse.de (Postfix) with ESMTP id F0C47A30B9;
	Thu, 13 Sep 2012 17:26:26 +0200 (CEST)
In-Reply-To: <7vhar29cq4.fsf@alter.siamese.dyndns.org>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/24.1
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
Archived-At: <http://permalink.gmane.org/gmane.comp.version-control.git/205386>

At Thu, 13 Sep 2012 08:14:27 -0700,
Junio C Hamano wrote:
> 
> Takashi Iwai <tiwai@suse.de> writes:
> 
> >> I can't reproduce here. What is your exact request-pull invocation?
> 
> This question was not answerd.

It was (a sort of), but let me clarify again.
In my original pull request, I did git-request-pull for a signed tag,
but I apparently overlooked the warning.
Then the next test with git 1.7.12, I did it using no annotated/signed
tag, so git-request-pull didn't complain it.  When I do it with a
signed tag, it starts warning.

>  Did you ask request-pull to ask for
> a branch to be pulled, or did you ask it to ask for the tag to be
> pulled?
> 
> If the former, I would have say it is a pebcak.  Linus asked you to
> ask a signed tag to be pulled, and you want to have the tag to be
> pulled, but if you do not give "git request-pull" the tag but a
> branch that the tag points at, the command does not have a good
> reason to countermand your (apparent) wish that the branch is what
> is to be pulled.

Yeah I can understand that.  But the problem is that a warning is
moderate so it can be so easily overlooked.  It'd be user- (or
subsystem-maintainer-) friendly if this automatic conversion can be
suppressed.


Takashi

> >> Is request-pull showing a warning like:
> >> 
> >>   warn: You locally have sound-3.6 but it does not (yet)
> >>   warn: appear to be at git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound.git
> >>   warn: Do you want to push it there, perhaps?
> >
> > Hm, it looks like the check is performed only for tag objects.
> > In the example below, no warning appears:
> >     % git tag mytest for-next
> >     % git request-pull mytest~ git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound.git mytest
> >
> > With an annotated or a signed tag, git seems giving a warning like
> > above, indeed.  So my test seemed wrong.  Sorry for the noise.
> 
> OK.
> 
